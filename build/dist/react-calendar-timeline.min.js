!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("moment"),require("interact")):"function"==typeof define&&define.amd?define(["React","moment","interact"],t):"object"==typeof exports?exports.ReactCalendarTimeline=t(require("React"),require("moment"),require("interact")):e.ReactCalendarTimeline=t(e.React,e.moment,e.interact)}(this,function(e,t,r){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=i(n);t["default"]=o["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),p=i(l),c=r(3),f=i(c),d=r(4),h=i(d),m=r(9),g=i(m),y=r(10),v=i(y),b=r(11),T=i(b),x=r(13),P=i(x),w=r(14),O=i(w),k=r(12),z=r(15),R=i(z),_=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));r.resize=(0,R["default"])(function(){var e=r.refs.container.clientWidth-r.props.sidebarWidth;r.setState({width:e,visible:!0}),r.refs.scrollComponent.scrollLeft=e},30);var i=null,a=null;return r.props.items.forEach(function(e){(null===i||e.start.getTime()<i)&&(i=e.start.getTime()),(null===a||e.end.getTime()>a)&&(a=e.end.getTime())}),r.state={width:1e3,lineHeight:30,minTime:i,maxTime:a,zoom:a-i,originX:i-(a-i),visible:!1,selectedItem:null,dragTime:null,dragGroupTitle:null,resizeLength:null},r}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.resize),this.lastTouchDistance=null,this.refs.scrollComponent.addEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.addEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.addEventListener("touchend",this.touchEnd.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize),this.refs.scrollComponent.removeEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.removeEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.removeEventListener("touchend",this.touchEnd.bind(this))}},{key:"touchStart",value:function(e){2==e.touches.length&&(e.preventDefault(),this.lastTouchDistance=Math.abs(e.touches[0].clientX-e.touches[1].clientX))}},{key:"touchMove",value:function(e){if(this.lastTouchDistance){e.preventDefault();var t=Math.abs(e.touches[0].clientX-e.touches[1].clientX),r=(0,k.getParentPosition)(e.currentTarget),i=(e.touches[0].clientX+e.touches[1].clientX)/2-r.x;0!=t&&0!=this.lastTouchDistance&&(this.changeZoom(this.lastTouchDistance/t,i/this.state.width),this.lastTouchDistance=t)}}},{key:"touchEnd",value:function(e){this.lastTouchDistance&&(e.preventDefault(),this.lastTouchDistance=null)}},{key:"onScroll",value:function(){var e=this.refs.scrollComponent,t=this.state.originX,r=e.scrollLeft,i=this.state.zoom,n=this.state.width,o=t+i*r/n;this.setState({minTime:o,maxTime:o+i}),r<.5*this.state.width&&(this.setState({originX:this.state.originX-this.state.zoom}),e.scrollLeft+=this.state.width),r>1.5*this.state.width&&(this.setState({originX:this.state.originX+this.state.zoom}),e.scrollLeft-=this.state.width)}},{key:"onWheel",value:function(e){if(e.ctrlKey){e.preventDefault();var t=(0,k.getParentPosition)(e.currentTarget),r=e.clientX-t.x;this.changeZoom(1+e.deltaY/50,r/this.state.width)}}},{key:"zoomIn",value:function(e){e.preventDefault(),this.changeZoom(.75)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.changeZoom(1.25)}},{key:"changeZoom",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?.5:arguments[1],r=this.state.zoom,i=Math.min(Math.max(Math.round(r*e),36e5),63113472e4),n=i/r,o=Math.round(this.state.minTime+r*t),a=o-this.state.originX,s=Math.round(a*n),u=this.state.originX+(a-s),l=Math.round(this.state.minTime+(r-i)*t);this.setState({zoom:i,originX:u,minTime:l,maxTime:l+i})}},{key:"showPeriod",value:function(e,t){var r=e.valueOf(),i=(0,f["default"])(e).add(1,t),n=i-r;if(!(36e4>n)){if("year"!=t&&this.state.minTime==r&&this.state.maxTime==i){var o=(0,k.getNextUnit)(t);r=e.startOf(o).valueOf(),i=(0,f["default"])(r).add(1,o),n=i-r}this.setState({zoom:n,originX:r-n,minTime:r,maxTime:r+n}),this.refs.scrollComponent.scrollLeft=this.state.width}}},{key:"selectItem",value:function(e){this.setState({selectedItem:e})}},{key:"canvasClick",value:function(e){"timeline-item"!==e.target.className&&this.selectItem(null)}},{key:"dragItem",value:function(e,t,r){var i=this.props.groups[r];this.setState({dragTime:t,dragGroupTitle:i?i.title:""})}},{key:"dropItem",value:function(e,t,r){this.setState({dragTime:null,dragGroupTitle:null}),this.props.moveItem&&this.props.moveItem(e,t,r)}},{key:"resizingItem",value:function(e,t){this.setState({resizeLength:t})}},{key:"resizedItem",value:function(e,t){this.setState({resizeLength:null}),this.props.resizeItem&&this.props.resizeItem(e,t)}},{key:"infoLabel",value:function(){var e=null;if(this.state.dragTime)e=(0,f["default"])(this.state.dragTime).format("LLL")+", "+this.state.dragGroupTitle;else if(this.state.resizeLength){var t=Math.floor(this.state.resizeLength/6e4),r=Math.floor(t/60),i=Math.floor(r/24);t%=60,r%=24;var n=[];i>0&&n.push(i+" d"),(r>0||i>0)&&n.push(r+" h"),n.push(""+(10>t?"0":"")+t+" min"),e=n.join(", ")}return e}},{key:"render",value:function(){var e=this.state.width,t=(this.props.groups.length+2)*this.state.lineHeight,r=this.state.zoom,i=3*this.state.width,n=this.state.originX,o=n+3*this.state.zoom,a=(0,k.getMinUnit)(r,this.state.width),u="#f0f0f0",l="#ffffff",c="#da2127",f="repeating-linear-gradient(to top,#ffffff,#ffffff "+this.state.lineHeight+"px,"+u+" "+this.state.lineHeight+"px,"+u+" "+2*this.state.lineHeight+"px)",d={originX:n,maxX:o,canvasWidth:i,lineHeight:this.state.lineHeight},m={lineCount:this.props.groups.length,minUnit:a},y={items:this.props.items,groups:this.props.groups,selectedItem:this.state.selectedItem,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,itemSelect:this.selectItem.bind(this),itemDrag:this.dragItem.bind(this),itemDrop:this.dropItem.bind(this),itemResizing:this.resizingItem.bind(this),itemResized:this.resizedItem.bind(this)},b={groups:this.props.groups,width:this.props.sidebarWidth,lineHeight:this.state.lineHeight,headerColor:l,headerBackgroundColor:c,gradientBackground:f},x={minUnit:a,width:e,zoom:r,minTime:this.state.minTime,maxTime:this.state.maxTime,headerColor:l,headerBackgroundColor:c,showPeriod:this.showPeriod.bind(this)},w={display:"inline-block",width:e+"px",height:t+"px",verticalAlign:"top",overflowX:"scroll",overflowY:"hidden"},z={position:"relative",width:i+"px",height:t+"px",background:f};return p["default"].createElement("div",{style:this.props.style||{},ref:"container",className:"react-calendar-timeline"},p["default"].createElement("p",null,p["default"].createElement("a",{href:"#",onClick:this.zoomIn.bind(this)},"Zoom in")," | ",p["default"].createElement("a",{href:"#",onClick:this.zoomOut.bind(this)},"Zoom out")),p["default"].createElement("div",null,p["default"].createElement(v["default"],b),p["default"].createElement("div",{ref:"scrollComponent",style:w,onScroll:this.onScroll.bind(this),onWheel:this.onWheel.bind(this)},p["default"].createElement("div",{ref:"canvasComponent",style:z,onClick:this.canvasClick.bind(this)},p["default"].createElement(O["default"],s({},d,m)),p["default"].createElement(P["default"],s({},d,m)),p["default"].createElement(h["default"],s({},d,y)),this.infoLabel()?p["default"].createElement(g["default"],{label:this.infoLabel()}):"",p["default"].createElement(T["default"],s({},d,x))))))}}]),t}(l.Component);t["default"]=_,_.propTypes={groups:p["default"].PropTypes.array.isRequired,items:p["default"].PropTypes.array.isRequired,sidebarWidth:p["default"].PropTypes.number,dragSnap:p["default"].PropTypes.number,minResizeWidth:p["default"].PropTypes.number,moveItem:p["default"].PropTypes.func,resizeItem:p["default"].PropTypes.func},_.defaultProps={sidebarWidth:150,dragSnap:9e5,minResizeWidth:20}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=r(5),c=i(p),f=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"getGroupOrders",value:function(){var e={},t=0;return this.props.groups.forEach(function(r){e[r.id]=t++}),e}},{key:"getVisibleItems",value:function(e,t,r){return this.props.items.filter(function(e){return r.hasOwnProperty(e.group)}).filter(function(r){var i=r.start.getTime(),n=r.end.getTime();return i>=e&&t>=i||e>=i&&n>=t||n>=e&&t>=n})}},{key:"render",value:function(){var e=this,t=this.getGroupOrders(),r=this.getVisibleItems(this.props.originX,this.props.maxX,t);return l["default"].createElement("div",null,r.map(function(r){return l["default"].createElement(c["default"],{key:r.id,item:r,originX:e.props.originX,maxX:e.props.maxX,canvasWidth:e.props.canvasWidth,lineHeight:e.props.lineHeight,order:t[r.group],selected:e.props.selectedItem===r.id,dragSnap:e.props.dragSnap,minResizeWidth:e.props.minResizeWidth,onResizing:e.props.itemResizing,onResized:e.props.itemResized,onDrag:e.props.itemDrag,onDrop:e.props.itemDrop,onSelect:e.props.itemSelect})}))}}]),t}(u.Component);t["default"]=f,f.propTypes={groups:l["default"].PropTypes.array.isRequired,items:l["default"].PropTypes.array.isRequired,originX:l["default"].PropTypes.number.isRequired,maxX:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,dragSnap:l["default"].PropTypes.number,minResizeWidth:l["default"].PropTypes.number,selectedItem:l["default"].PropTypes.string,itemSelect:l["default"].PropTypes.func,itemDrag:l["default"].PropTypes.func,itemDrop:l["default"].PropTypes.func,itemResizing:l["default"].PropTypes.func,itemResized:l["default"].PropTypes.func},f.defaultProps={}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=r(6),c=i(p),f=r(3),d=(i(f),r(8)),h=i(d),m=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.shouldComponentUpdate=c["default"],r.state={dragging:null,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:null,resizeStart:null,resizeTime:null},r}return a(t,e),s(t,[{key:"coordinateToTimeRatio",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return(e.maxX-e.originX)/e.canvasWidth}},{key:"dragTimeSnap",value:function(e){return this.props.dragSnap?Math.round(e/this.props.dragSnap)*this.props.dragSnap:e}},{key:"dragTime",value:function(e){var t=this.props.item;if(this.state.dragging){var r=e.pageX-this.state.dragStart.x,i=r*this.coordinateToTimeRatio();return this.dragTimeSnap(t.start.getTime()+i)}return t.start.getTime()}},{key:"dragGroupDelta",value:function(e){if(this.state.dragging){var t=e.pageY-this.state.dragStart.y,r=Math.round(t/this.props.lineHeight);return this.props.order+r<0?-this.props.order:r}return 0}},{key:"resizeTimeDelta",value:function(e){var t=this.props.item.end-this.props.item.start,r=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.coordinateToTimeRatio());return t+r<(this.props.dragSnap||1e3)?(this.props.dragSnap||1e3)-t:r}},{key:"componentDidMount",value:function(){var e=this;(0,h["default"])(this.refs.item).resizable({edges:{left:!1,right:!0,top:!1,bottom:!1},enabled:this.props.selected&&this.canResize()}).draggable({enabled:this.props.selected}).on("dragstart",function(t){return e.props.selected?void e.setState({dragging:!0,dragStart:{x:t.pageX,y:t.pageY},preDragPosition:{x:t.target.offsetLeft,y:t.target.offsetTop},dragTime:e.props.item.start.getTime(),dragGroupDelta:0}):!1}).on("dragmove",function(t){if(e.state.dragging){var r=e.dragTime(t),i=e.dragGroupDelta(t);e.props.onDrag&&e.props.onDrag(e.props.item.id,r,e.props.order+i),e.setState({dragTime:r,dragGroupDelta:i})}}).on("dragend",function(t){e.state.dragging&&(e.props.onDrop&&e.props.onDrop(e.props.item.id,e.dragTime(t),e.props.order+e.dragGroupDelta(t)),e.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null}))}).on("resizestart",function(t){return e.props.selected?void e.setState({resizing:!0,resizeStart:t.pageX,resizeTimeDelta:0}):!1}).on("resizemove",function(t){e.state.resizing&&(e.props.onResizing&&e.props.onResizing(e.props.item.id,e.props.item.end-e.props.item.start+e.resizeTimeDelta(t)),e.setState({resizeTimeDelta:e.resizeTimeDelta(t)}))}).on("resizeend",function(t){e.state.resizing&&(e.props.onResized&&0!==e.resizeTimeDelta(t)&&e.props.onResized(e.props.item.id,e.props.item.end-e.props.item.start+e.resizeTimeDelta(t)),e.setState({resizing:null,resizeStart:null,resizeTimeDelta:null}))})}},{key:"canResize",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=parseInt(this.dimensions(e).width);return t>=e.minResizeWidth}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.selected,r=this.props.selected&&this.canResize(this.props),i=e.selected,n=e.selected&&this.canResize(e);r!==n&&(0,h["default"])(this.refs.item).resizable({enabled:n}),t!==i&&(0,h["default"])(this.refs.item).draggable({enabled:i})}},{key:"onClick",value:function(e){this.props.onSelect&&this.props.onSelect(this.props.item.id)}},{key:"onTouchStart",value:function(e){this.startedTouching=!0}},{key:"onTouchEnd",value:function(e){this.startedTouching&&this.onClick(e)}},{key:"dimensions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=e.item,r=this.state.dragging?this.state.dragTime:t.start.getTime(),i=Math.max(t.end.getTime()-t.start.getTime()+(this.state.resizing?this.state.resizeTimeDelta:0),e.dragSnap),n=(e.order+(this.state.dragging?this.state.dragGroupDelta:0)+.15+2)*e.lineHeight,o=.65*e.lineHeight,a=1/this.coordinateToTimeRatio(e);return{left:(r-e.originX)*a+"px",top:n+"px",width:Math.max(i*a,3)+"px",height:o+"px"}}},{key:"render",value:function(){var e=this.props.item,t=this.dimensions();return l["default"].createElement("div",{key:e.id,ref:"item",title:e.title,onClick:this.onClick.bind(this),onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),className:"timeline-item",style:{overflow:"hidden",cursor:this.props.selected?"move":"pointer",position:"absolute",boxSizing:"border-box",left:t.left,top:t.top,width:t.width,height:t.height,lineHeight:t.height,background:this.props.selected?"#FFC107":"#2196F3",border:this.props.selected?"1px solid #FF9800":"1px solid #1A6FB3",borderRightWidth:this.props.selected&&this.canResize(this.props)?"3px":"1px",fontSize:"12px",color:"white",textAlign:"center"}},e.title)}}]),t}(u.Component);t["default"]=m,m.propTypes={item:l["default"].PropTypes.object.isRequired,originX:l["default"].PropTypes.number.isRequired,maxX:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,order:l["default"].PropTypes.number.isRequired,dragSnap:l["default"].PropTypes.number,minResizeWidth:l["default"].PropTypes.number,selected:l["default"].PropTypes.bool,onSelect:l["default"].PropTypes.func,onDrag:l["default"].PropTypes.func,onDrop:l["default"].PropTypes.func,onResizing:l["default"].PropTypes.func,onResized:l["default"].PropTypes.func},m.defaultProps={selected:!1}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){return!(0,a["default"])(this.props,e)||!(0,a["default"])(this.state,t)}t.__esModule=!0,t["default"]=n;var o=r(7),a=i(o);e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var n=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++)if(!n(r[o])||e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){e.exports=r},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=r(6),c=i(p),f=r(3),d=(i(f),function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.shouldComponentUpdate=c["default"],r}return a(t,e),s(t,[{key:"render",value:function(){var e={position:"fixed",left:"100px",bottom:"50px",background:"rgba(0,0,0,0.5)",color:"white",padding:"10px",fontSize:"20px",borderRadius:"5px"};return l["default"].createElement("div",{style:e},this.props.label)}}]),t}(u.Component));t["default"]=d,d.propTypes={label:l["default"].PropTypes.string.isRequired},d.defaultProps={label:""}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t={width:this.props.width-1+"px",height:this.props.lineHeight*(this.props.groups.length+2)+"px",borderRight:"1px solid #000",overflow:"hidden",display:"inline-block",verticalAlign:"top",background:this.props.gradientBackground},r=l["default"].createElement("p",{key:"sidebar-header",style:{height:2*this.props.lineHeight+"px",lineHeight:this.props.lineHeight+"px",margin:"0",color:this.props.headerColor,background:this.props.headerBackgroundColor}}),i=this.props.groups.map(function(t){return l["default"].createElement("p",{key:t.id,style:{height:e.props.lineHeight+"px",lineHeight:e.props.lineHeight+"px",margin:"0"}},t.title)});return l["default"].createElement("div",{style:t},r,i)}}]),t}(u.Component);t["default"]=p,p.propTypes={groups:l["default"].PropTypes.array.isRequired,width:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,headerColor:l["default"].PropTypes.string.isRequired,headerBackgroundColor:l["default"].PropTypes.string.isRequired,gradientBackground:l["default"].PropTypes.string.isRequired},p.defaultProps={}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=r(12),c=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"getMiddleLine",value:function(e,t){return l["default"].createElement("div",{key:"label-line",style:{position:"absolute",top:e+"px",left:0,width:t+"px",height:"1px",lineHeight:"1px",background:"#ccc",overflow:"hidden"}})}},{key:"headerLabel",value:function(e,t,r){return"year"==t?e.format(46>r?"YY":"YYYY"):"month"==t?e.format(65>r?"MM/YY":75>r?"MM/YYYY":120>r?"MMM YYYY":"MMMM YYYY"):"day"==t?e.format(150>r?"L":"LL"):"hour"==t?e.format(50>r?"HH":130>r?"HH:00":150>r?"L, HH:00":"LL, HH:00"):e.format("LLL")}},{key:"subHeaderLabel",value:function(e,t,r){return"year"===t?e.format(46>r?"YY":"YYYY"):"month"===t?e.format(37>r?"MM":85>r?"MMM":"MMMM"):"day"===t?e.format(42>r?"D":"Do"):"hour"===t?e.format(50>r?"HH":"HH:00"):e.get("day"==t?"date":t)}},{key:"periodClick",value:function(e,t){this.props.showPeriod(e,t)}},{key:"render",value:function(){var e=this,t=[],r=this.props.originX,i=this.props.maxX,n=this.props.canvasWidth,o=this.props.lineHeight,a=this.props.minUnit,s=(this.props.width,this.props.zoom,n/(i-r));(0,p.iterateTimes)(r,i,a,function(i,n){var u=Math.round((i.valueOf()-r)*s,-2),p=(i.get("day"==a?"date":a),Math.round((n.valueOf()-i.valueOf())*s,-2));t.push(l["default"].createElement("div",{key:"label-"+i.valueOf(),onClick:e.periodClick.bind(e,i,a),style:{position:"absolute",top:("year"==a?0:o)+"px",left:u+"px",width:p+"px",height:("year"==a?2:1)*o+"px",lineHeight:("year"==a?2:1)*o+"px",fontSize:p>30?"14":p>20?"12":"10",overflow:"hidden",textAlign:"center",cursor:"pointer"}},e.subHeaderLabel(i,a,p)))}),"year"!=a&&!function(){var i=e.props.minTime,u=e.props.maxTime,c=(0,p.getNextUnit)(a);t.push(e.getMiddleLine(o,n)),(0,p.iterateTimes)(i,u,c,function(n,a){var p=Math.max(i,n.valueOf()),f=Math.min(u,a.valueOf()),d=Math.round((p.valueOf()-r)*s,-2),h=Math.round((f.valueOf()-r)*s,-2),m=h-d;t.push(l["default"].createElement("div",{key:"top-label-"+n.valueOf(),onClick:e.periodClick.bind(e,n,c),style:{position:"absolute",top:0,left:d+"px",width:m+"px",height:o-1+"px",lineHeight:o-1+"px",fontSize:"14",overflow:"hidden",textAlign:"center",cursor:"pointer"}},e.headerLabel(n,c,m)))})}();var u=this.props.headerColor,c=this.props.headerBackgroundColor;return l["default"].createElement("div",{key:"timeLabels",style:{height:2*o+"px",lineHeight:o+"px",margin:"0",color:u,background:c}},t)}}]),t}(u.Component);t["default"]=c,c.propTypes={},c.defaultProps={}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,i){for(var n=(0,l["default"])(e).startOf(r);n.valueOf()<t;){var o=(0,l["default"])(n).add(1,r+"s");i(n,o),n=o}}function o(e,t){var r={second:1e3,minute:60,hour:60,day:24,month:30,year:12},i="year",n=e,o=17;return Object.keys(r).some(function(e){return n/=r[e],t/o>n?(i=e,!0):void 0}),i}function a(e){var t={second:"minute",minute:"hour",hour:"day",day:"month",month:"year"};return t[e]||""}function s(e){for(var t=0,r=0,i=!0;e;)t+=e.offsetLeft-(i?0:e.scrollLeft)+e.clientLeft,r+=e.offsetTop-(i?0:e.scrollTop)+e.clientTop,e=e.offsetParent,i=!1;return{x:t,y:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.iterateTimes=n,t.getMinUnit=o,t.getNextUnit=a,t.getParentPosition=s;var u=r(3),l=i(u)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=r(6),c=i(p),f=r(12),d=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.shouldComponentUpdate=c["default"],r}return a(t,e),s(t,[{key:"render",value:function(){var e=[],t=this.props.originX,r=this.props.maxX,i=this.props.minUnit,n=this.props.canvasWidth/(r-t),o=this.props.lineCount,a=this.props.lineHeight;return(0,f.iterateTimes)(t,r,i,function(r,s){var u=Math.round((r.valueOf()-t)*n,-2),p=r.get("day"==i?"date":i),c=p==("day"==i?1:0),f=Math.round((s.valueOf()-r.valueOf())*n,-2),d=c||f>100?"#aaa":"#ccc",h=c?2:1;e.push(l["default"].createElement("div",{key:"line-"+r.valueOf(),style:{position:"absolute",top:(c||"year"==i?0:a)+"px",left:u-(2==h?1:0)+"px",width:h+"px",height:(o+(c||"year"==i?2:1))*a+"px",background:d}}))}),l["default"].createElement("div",null,e)}}]),t}(u.Component);t["default"]=d,d.propTypes={originX:l["default"].PropTypes.number.isRequired,maxX:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,lineCount:l["default"].PropTypes.number.isRequired,minUnit:l["default"].PropTypes.string.isRequired},d.defaultProps={}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),l=i(u),p=(r(12),function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=(new Date).getTime();if(e>this.props.originX&&e<this.props.maxX){var t=this.props.canvasWidth/(this.props.maxX-this.props.originX),r=Math.round((e-this.props.originX)*t),i=2*this.props.lineHeight,n=this.props.lineCount*this.props.lineHeight;return l["default"].createElement("div",{style:{position:"absolute",top:i+"px",left:r+"px",width:"2px",height:n+"px",background:"red"}})}return l["default"].createElement("div",null)}}]),t}(u.Component));t["default"]=p,p.propTypes={originX:l["default"].PropTypes.number.isRequired,maxX:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,lineCount:l["default"].PropTypes.number.isRequired,minUnit:l["default"].PropTypes.string.isRequired},p.defaultProps={}},function(e,t,r){function i(e,t,r){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return r===!1?i=!1:o(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:i,maxWait:+t,trailing:s})}var n=r(16),o=r(17),a="Expected a function";e.exports=i},function(e,t,r){function i(e,t,r){function i(){y&&clearTimeout(y),d&&clearTimeout(d),b=0,d=y=v=void 0}function u(t,r){r&&clearTimeout(r),d=y=v=void 0,t&&(b=o(),h=e.apply(g,f),y||d||(f=g=void 0))}function l(){var e=t-(o()-m);0>=e||e>t?u(v,d):y=setTimeout(l,e)}function p(){u(x,y)}function c(){if(f=arguments,m=o(),g=this,v=x&&(y||!P),T===!1)var r=P&&!y;else{d||P||(b=m);var i=T-(m-b),n=0>=i||i>T;n?(d&&(d=clearTimeout(d)),b=m,h=e.apply(g,f)):d||(d=setTimeout(p,i))}return n&&y?y=clearTimeout(y):y||t===T||(y=setTimeout(l,t)),r&&(n=!0,h=e.apply(g,f)),!n||y||d||(f=g=void 0),h}var f,d,h,m,g,y,v,b=0,T=!1,x=!0;
if("function"!=typeof e)throw new TypeError(a);if(t=0>t?0:+t||0,r===!0){var P=!0;x=!1}else n(r)&&(P=!!r.leading,T="maxWait"in r&&s(+r.maxWait||0,t),x="trailing"in r?!!r.trailing:x);return c.cancel=i,c}var n=r(17),o=r(18),a="Expected a function",s=Math.max;e.exports=i},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){var i=r(19),n=i(Date,"now"),o=n||function(){return(new Date).getTime()};e.exports=o},function(e,t,r){function i(e,t){var r=null==e?void 0:e[t];return n(r)?r:void 0}var n=r(20);e.exports=i},function(e,t,r){function i(e){return null==e?!1:n(e)?p.test(u.call(e)):o(e)&&a.test(e)}var n=r(21),o=r(22),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,p=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,r){function i(e){return n(e)&&s.call(e)==o}var n=r(17),o="[object Function]",a=Object.prototype,s=a.toString;e.exports=i},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r}])});
//# sourceMappingURL=react-calendar-timeline.min.js.map