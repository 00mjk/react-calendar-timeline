!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("moment"),require("interact")):"function"==typeof define&&define.amd?define(["React","moment","interact"],t):"object"==typeof exports?exports.ReactCalendarTimeline=t(require("React"),require("moment"),require("interact")):e.ReactCalendarTimeline=t(e.React,e.moment,e.interact)}(this,function(e,t,r){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=i(n);t["default"]=o["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(l){n=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var p=r(2),d=i(p),c=r(3),h=i(c);r(4);var f=r(8),m=i(f),g=r(12),v=i(g),y=r(15),b=i(y),T=r(16),w=i(T),P=r(17),x=i(P),k=r(18),C=i(k),S=r(19),E=i(S),R=r(11),O={evenRowBackground:"transparent",oddRowBackground:"rgba(0,0,0,0.05)",borderColor:"#bbb",borderWidth:1,sidebarColor:"#ffffff",sidebarBackgroundColor:"#c52020",headerColor:"#ffffff",headerBackgroundColor:"#c52020",lowerHeaderColor:"#333333",lowerHeaderBackgroundColor:"#f0f0f0",listItemPadding:"0 4px"},z={groupIdKey:"id",groupTitleKey:"title",itemIdKey:"id",itemTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},_=function(e){function t(e){o(this,t);var r=s(this,Object.getPrototypeOf(t).call(this,e)),i=null,a=null;if(r.props.defaultTimeStart&&r.props.defaultTimeEnd)i=r.props.defaultTimeStart.valueOf(),a=r.props.defaultTimeEnd.valueOf();else if(r.props.visibleTimeStart&&r.props.visibleTimeEnd)i=r.props.visibleTimeStart,a=r.props.visibleTimeEnd;else{var l,u;i=(l=Math).min.apply(l,n(r.props.items.map(function(e){return(0,R._get)(e,"start").getTime()}))),a=(u=Math).max.apply(u,n(r.props.items.map(function(e){return(0,R._get)(e,"end").getTime()}))),i&&a||(i=(new Date).getTime()-6048e5,a=(new Date).getTime()+6048e5),r.props.onTimeInit&&r.props.onTimeInit(i,a)}return r.state={width:1e3,visibleTimeStart:i,visibleTimeEnd:a,canvasTimeStart:i-(a-i),selectedItem:null,dragTime:null,dragGroupTitle:null,resizeLength:null},r}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.resize(),this.resizeEventListener={handleEvent:function(t){e.resize()}},window.addEventListener("resize",this.resizeEventListener),this.lastTouchDistance=null,this.refs.scrollComponent.addEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.addEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.addEventListener("touchend",this.touchEnd.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeEventListener),this.refs.scrollComponent.removeEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.removeEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.removeEventListener("touchend",this.touchEnd.bind(this))}},{key:"touchStart",value:function(e){if(2===e.touches.length)e.preventDefault(),this.lastTouchDistance=Math.abs(e.touches[0].screenX-e.touches[1].screenX),this.singleTouchStart=null,this.lastSingleTouch=null;else if(1===e.touches.length&&"fixed"===this.props.fixedHeader){e.preventDefault();var t=e.touches[0].clientX,r=e.touches[0].clientY;this.lastTouchDistance=null,this.singleTouchStart={x:t,y:r,screenY:window.pageYOffset},this.lastSingleTouch={x:t,y:r,screenY:window.pageYOffset}}}},{key:"touchMove",value:function(e){if(this.state.dragTime||this.state.resizeLength)return void e.preventDefault();if(this.lastTouchDistance&&2===e.touches.length){e.preventDefault();var t=Math.abs(e.touches[0].screenX-e.touches[1].screenX),r=(0,R.getParentPosition)(e.currentTarget),i=(e.touches[0].screenX+e.touches[1].screenX)/2-r.x;0!==t&&0!==this.lastTouchDistance&&(this.changeZoom(this.lastTouchDistance/t,i/this.state.width),this.lastTouchDistance=t)}else if(this.lastSingleTouch&&1===e.touches.length&&"fixed"===this.props.fixedHeader){e.preventDefault();var n=e.touches[0].clientX,o=e.touches[0].clientY,s=n-this.lastSingleTouch.x,a=n-this.singleTouchStart.x,l=o-this.singleTouchStart.y;this.lastSingleTouch={x:n,y:o};var u=3*Math.abs(a)>Math.abs(l),p=3*Math.abs(l)>Math.abs(a);0!==s&&u&&(this.refs.scrollComponent.scrollLeft-=s),p&&window.scrollTo(window.pageXOffset,this.singleTouchStart.screenY-l)}}},{key:"touchEnd",value:function(e){this.lastTouchDistance&&(e.preventDefault(),this.lastTouchDistance=null),this.lastSingleTouch&&(e.preventDefault(),this.lastSingleTouch=null,this.singleTouchStart=null)}},{key:"resize",value:function(){var e=this.refs.container.clientWidth-this.props.sidebarWidth;this.setState({width:e}),this.refs.scrollComponent.scrollLeft=e}},{key:"onScroll",value:function(){var e=this.refs.scrollComponent,t=this.state.canvasTimeStart,r=e.scrollLeft,i=this.state.visibleTimeEnd-this.state.visibleTimeStart,n=this.state.width,o=t+i*r/n;r<.5*this.state.width&&(this.setState({canvasTimeStart:this.state.canvasTimeStart-i}),e.scrollLeft+=this.state.width),r>1.5*this.state.width&&(this.setState({canvasTimeStart:this.state.canvasTimeStart+i}),e.scrollLeft-=this.state.width),(this.state.visibleTimeStart!==o||this.state.visibleTimeEnd!==o+i)&&this.props.onTimeChange.bind(this)(o,o+i)}},{key:"componentWillReceiveProps",value:function(e){var t=e.visibleTimeStart,r=e.visibleTimeEnd;t&&r&&this.updateScrollCanvas(t,r)}},{key:"updateScrollCanvas",value:function(e,t){var r=this.state.canvasTimeStart,i=this.state.visibleTimeEnd-this.state.visibleTimeStart,n=t-e,o={visibleTimeStart:e,visibleTimeEnd:t},s=!1,a=e>=r+.5*i&&r+1.5*i>=e&&t>=r+1.5*i&&r+2.5*i>=t;if(a){var l=Math.round(this.state.width*(e-r)/n);this.refs.scrollComponent.scrollLeft!==l&&(s=!0)}else s=!0;s&&(o.canvasTimeStart=e-n,this.refs.scrollComponent.scrollLeft=this.state.width,this.props.onBoundsChange&&this.props.onBoundsChange(o.canvasTimeStart,o.canvasTimeStart+3*n)),this.setState(o)}},{key:"onWheel",value:function(e){if(e.ctrlKey){e.preventDefault();var t=(0,R.getParentPosition)(e.currentTarget),r=e.clientX-t.x;this.changeZoom(1+e.deltaY/50,r/this.state.width)}else"fixed"===this.props.fixedHeader&&(e.preventDefault(),0!==e.deltaX&&(this.refs.scrollComponent.scrollLeft+=e.deltaX),0!==e.deltaY&&window.scrollTo(window.pageXOffset,window.pageYOffset+e.deltaY))}},{key:"zoomIn",value:function(e){e.preventDefault(),this.changeZoom(.75)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.changeZoom(1.25)}},{key:"changeZoom",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?.5:arguments[1],r=this.props,i=r.minZoom,n=r.maxZoom,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=Math.min(Math.max(Math.round(o*e),i),n),a=Math.round(this.state.visibleTimeStart+(o-s)*t);this.props.onTimeChange.bind(this)(a,a+s)}},{key:"showPeriod",value:function(e,t){var r=e.valueOf(),i=(0,h["default"])(e).add(1,t).valueOf(),n=i-r;if(!(36e4>n)){if("year"!==t&&this.state.visibleTimeStart===r&&this.state.visibleTimeEnd===i){var o=(0,R.getNextUnit)(t);r=e.startOf(o).valueOf(),i=(0,h["default"])(r).add(1,o),n=i-r}this.props.onTimeChange.bind(this)(r,r+n)}}},{key:"selectItem",value:function(e){this.state.selectedItem===e?e&&this.props.onItemClick&&this.props.onItemClick(e):this.setState({selectedItem:e})}},{key:"rowAndTimeFromEvent",value:function(e){var t=this.props,r=t.lineHeight,i=t.dragSnap,n=this.state,o=n.width,s=n.visibleTimeStart,a=n.visibleTimeEnd,l=(0,R.getParentPosition)(e.currentTarget),u=e.clientX-l.x,p=e.clientY-l.y,d=Math.floor((p-2*r)/r),c=Math.round(s+u/o*(a-s));return c=Math.floor(c/i)*i,[d,c]}},{key:"scrollAreaClick",value:function(e){if("timeline-item"!==e.target.className)if(this.state.selectedItem)this.selectItem(null);else if(this.props.onCanvasClick){var t=this.rowAndTimeFromEvent(e),r=l(t,2),i=r[0],n=r[1];if(i>=0&&i<this.props.groups.length){var o=(0,R._get)(this.props.groups[i],this.props.keys.groupIdKey);this.props.onCanvasClick(o,n,e)}}}},{key:"dragItem",value:function(e,t,r){var i=this.props.groups[r];this.setState({dragTime:t,dragGroupTitle:i?i.title:""})}},{key:"dropItem",value:function(e,t,r){this.setState({dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(e,t,r)}},{key:"resizingItem",value:function(e,t){this.setState({resizeLength:t})}},{key:"resizedItem",value:function(e,t){this.setState({resizeLength:null}),this.props.onItemResize&&this.props.onItemResize(e,t)}},{key:"design",value:function(){return Object.assign({},O,this.props.design)}},{key:"todayLine",value:function(){var e=this.state.canvasTimeStart,t=this.state.visibleTimeEnd-this.state.visibleTimeStart,r=e+3*t,i=3*this.state.width;return d["default"].createElement(E["default"],{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,R._length)(this.props.groups)})}},{key:"verticalLines",value:function(){var e=this.state.canvasTimeStart,t=this.state.visibleTimeEnd-this.state.visibleTimeStart,r=e+3*t,i=3*this.state.width,n=(0,R.getMinUnit)(t,this.state.width),o=this.design();return d["default"].createElement(x["default"],{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,lineCount:(0,R._length)(this.props.groups),minUnit:n,dayBackground:this.props.dayBackground,borderColor:o.borderColor,fixedHeader:this.props.fixedHeader})}},{key:"horizontalLines",value:function(){var e=3*this.state.width,t=this.design();return d["default"].createElement(C["default"],{canvasWidth:e,lineHeight:this.props.lineHeight,lineCount:(0,R._length)(this.props.groups),backgroundColor:function(e){return e%2===0?t.evenRowBackground:t.oddRowBackground},borderWidth:t.borderWidth,borderColor:t.borderColor})}},{key:"items",value:function(){var e=this.state.visibleTimeEnd-this.state.visibleTimeStart,t=(0,R.getMinUnit)(e,this.state.width),r=this.state.canvasTimeStart,i=r+3*e,n=3*this.state.width;return d["default"].createElement(m["default"],{canvasTimeStart:r,canvasTimeEnd:i,canvasWidth:n,lineHeight:this.props.lineHeight,lineCount:(0,R._length)(this.props.groups),minUnit:t,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,itemSelect:this.selectItem.bind(this),itemDrag:this.dragItem.bind(this),itemDrop:this.dropItem.bind(this),itemResizing:this.resizingItem.bind(this),itemResized:this.resizedItem.bind(this)})}},{key:"infoLabel",value:function(){var e=null;if(this.state.dragTime)e=(0,h["default"])(this.state.dragTime).format("LLL")+", "+this.state.dragGroupTitle;else if(this.state.resizeLength){var t=Math.floor(this.state.resizeLength/6e4),r=Math.floor(t/60),i=Math.floor(r/24);t%=60,r%=24;var n=[];i>0&&n.push(i+" d"),(r>0||i>0)&&n.push(r+" h"),n.push(""+(10>t?"0":"")+t+" min"),e=n.join(", ")}return e?d["default"].createElement(v["default"],{label:e}):""}},{key:"header",value:function(){var e=this.state.canvasTimeStart,t=this.state.visibleTimeEnd-this.state.visibleTimeStart,r=e+3*t,i=3*this.state.width,n=(0,R.getMinUnit)(t,this.state.width),o=this.design();return d["default"].createElement(w["default"],{canvasTimeStart:e,canvasTimeEnd:r,canvasWidth:i,lineHeight:this.props.lineHeight,minUnit:n,width:this.state.width,zoom:t,visibleTimeStart:this.state.visibleTimeStart,visibleTimeEnd:this.state.visibleTimeEnd,headerColor:o.headerColor,headerBackgroundColor:o.headerBackgroundColor,lowerHeaderColor:o.lowerHeaderColor,lowerHeaderBackgroundColor:o.lowerHeaderBackgroundColor,borderColor:o.borderColor,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+1,showPeriod:this.showPeriod.bind(this)})}},{key:"sidebar",value:function(){var e=this.design();return d["default"].createElement(b["default"],{groups:this.props.groups,keys:this.props.keys,width:this.props.sidebarWidth,lineHeight:this.props.lineHeight,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+2,sidebarColor:e.sidebarColor,sidebarBackgroundColor:e.sidebarBackgroundColor,listItemPadding:e.listItemPadding,backgroundColor:function(t){return t%2===0?e.evenRowBackground:e.oddRowBackground},borderWidth:e.borderWidth,borderColor:e.borderColor},this.props.children)}},{key:"render",value:function(){var e=this.state.width,t=((0,R._length)(this.props.groups)+2)*this.props.lineHeight,r=3*this.state.width,i={display:"block",height:t+"px",overflow:"hidden"},n={display:"inline-block",width:e+"px",height:t+20+"px",verticalAlign:"top",overflowX:"scroll",overflowY:"hidden"},o={position:"relative",width:r+"px",height:t+"px"};return d["default"].createElement("div",{style:this.props.style||{},ref:"container",className:"react-calendar-timeline"},d["default"].createElement("div",{style:i},this.sidebar(),d["default"].createElement("div",{ref:"scrollComponent",style:n,onClick:this.scrollAreaClick.bind(this),onScroll:this.onScroll.bind(this),onWheel:this.onWheel.bind(this)},d["default"].createElement("div",{ref:"canvasComponent",style:o},this.todayLine(),this.verticalLines(),this.horizontalLines(),this.items(),this.infoLabel(),this.header()))))}}]),t}(p.Component);t["default"]=_,_.propTypes={groups:d["default"].PropTypes.oneOfType([d["default"].PropTypes.array,d["default"].PropTypes.object]).isRequired,items:d["default"].PropTypes.oneOfType([d["default"].PropTypes.array,d["default"].PropTypes.object]).isRequired,sidebarWidth:d["default"].PropTypes.number,dragSnap:d["default"].PropTypes.number,minResizeWidth:d["default"].PropTypes.number,fixedHeader:d["default"].PropTypes.oneOf(["fixed","absolute","none"]),zIndexStart:d["default"].PropTypes.number,lineHeight:d["default"].PropTypes.number,minZoom:d["default"].PropTypes.number,maxZoom:d["default"].PropTypes.number,canChangeGroup:d["default"].PropTypes.bool,canMove:d["default"].PropTypes.bool,canResize:d["default"].PropTypes.bool,onItemMove:d["default"].PropTypes.func,onItemResize:d["default"].PropTypes.func,onItemClick:d["default"].PropTypes.func,onCanvasClick:d["default"].PropTypes.func,dayBackground:d["default"].PropTypes.func,style:d["default"].PropTypes.object,design:d["default"].PropTypes.object,keys:d["default"].PropTypes.object,defaultTimeStart:d["default"].PropTypes.object,defaultTimeEnd:d["default"].PropTypes.object,visibleTimeStart:d["default"].PropTypes.number,visibleTimeEnd:d["default"].PropTypes.number,onTimeChange:d["default"].PropTypes.func,onTimeInit:d["default"].PropTypes.func,onBoundsChange:d["default"].PropTypes.func,children:d["default"].PropTypes.node},_.defaultProps={sidebarWidth:150,dragSnap:9e5,minResizeWidth:20,fixedHeader:"none",zIndexStart:10,lineHeight:30,minZoom:36e5,maxZoom:15778368e4,canChangeGroup:!0,canMove:!0,canResize:!0,onItemMove:null,onItemResize:null,onItemClick:null,onCanvasClick:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,style:{},design:{},keys:z,visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t){this.updateScrollCanvas(e,t)},onTimeInit:null,onBoundsChange:null,children:null}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){},,,,function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(9),d=i(p),c=r(11),h=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,c.arraysEqual)(e.groups,this.props.groups)&&(0,c.arraysEqual)(e.items,this.props.items)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.lineHeight===this.props.lineHeight&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize)}},{key:"getGroupOrders",value:function(){for(var e=this.props.keys.groupIdKey,t={},r=0;r<this.props.groups.length;r++)t[(0,c._get)(this.props.groups[r],e)]=r;return t}},{key:"getVisibleItems",value:function(e,t,r){var i=this.props.keys,n=i.itemTimeStartKey,o=i.itemTimeEndKey;return this.props.items.filter(function(r){return(0,c._get)(r,n)<=t&&(0,c._get)(r,o)>=e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.canvasTimeStart,i=t.canvasTimeEnd,n=this.props.keys,o=n.itemIdKey,s=n.itemGroupKey,a=this.getGroupOrders(),l=this.getVisibleItems(r,i,a);return u["default"].createElement("div",null,l.map(function(t){return u["default"].createElement(d["default"],{key:(0,c._get)(t,o),item:t,keys:e.props.keys,order:a[(0,c._get)(t,s)],selected:e.props.selectedItem===(0,c._get)(t,o),canChangeGroup:void 0!==(0,c._get)(t,"canChangeGroup")?(0,c._get)(t,"canChangeGroup"):e.props.canChangeGroup,canMove:void 0!==(0,c._get)(t,"canMove")?(0,c._get)(t,"canMove"):e.props.canMove,canResize:void 0!==(0,c._get)(t,"canResize")?(0,c._get)(t,"canResize"):e.props.canResize,canvasTimeStart:e.props.canvasTimeStart,canvasTimeEnd:e.props.canvasTimeEnd,canvasWidth:e.props.canvasWidth,lineHeight:e.props.lineHeight,dragSnap:e.props.dragSnap,minResizeWidth:e.props.minResizeWidth,onResizing:e.props.itemResizing,onResized:e.props.itemResized,onDrag:e.props.itemDrag,onDrop:e.props.itemDrop,onSelect:e.props.itemSelect})}))}}]),t}(l.Component);t["default"]=h,h.propTypes={groups:u["default"].PropTypes.oneOfType([u["default"].PropTypes.array,u["default"].PropTypes.object]).isRequired,items:u["default"].PropTypes.oneOfType([u["default"].PropTypes.array,u["default"].PropTypes.object]).isRequired,canvasTimeStart:u["default"].PropTypes.number.isRequired,canvasTimeEnd:u["default"].PropTypes.number.isRequired,canvasWidth:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,dragSnap:u["default"].PropTypes.number,minResizeWidth:u["default"].PropTypes.number,selectedItem:u["default"].PropTypes.string,canChangeGroup:u["default"].PropTypes.bool.isRequired,canMove:u["default"].PropTypes.bool.isRequired,canResize:u["default"].PropTypes.bool.isRequired,keys:u["default"].PropTypes.object.isRequired,itemSelect:u["default"].PropTypes.func,itemDrag:u["default"].PropTypes.func,itemDrop:u["default"].PropTypes.func,itemResizing:u["default"].PropTypes.func,itemResized:u["default"].PropTypes.func},h.defaultProps={}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(10),d=i(p),c=r(11),h=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.onClick=function(e){r.props.onSelect&&r.props.onSelect(r.itemId)},r.onTouchStart=function(e){r.startedTouching=!0},r.onTouchEnd=function(e){r.startedTouching&&(r.startedTouching=!1,r.onClick(e))},r.cacheDataFromProps(e),r.state={interactMounted:!1,dragging:null,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:null,resizeStart:null,resizeTime:null},r}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(t.dragging!==this.state.dragging&&t.dragTime!==this.state.dragTime&&t.dragGroupDelta!==this.state.dragGroupDelta&&t.resizing!==this.state.resizing&&t.resizeTime!==this.state.resizeTime&&e.keys===this.props.keys&&e.selected===this.props.selected&&e.item===this.props.item&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.order===this.props.order&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.selected===this.props.selected&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize)}},{key:"cacheDataFromProps",value:function(e){this.itemId=(0,c._get)(e.item,e.keys.itemIdKey),this.itemTitle=(0,c._get)(e.item,e.keys.itemTitleKey),this.itemTimeStart=(0,c._get)(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=(0,c._get)(e.item,e.keys.itemTimeEndKey)}},{key:"coordinateToTimeRatio",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return(e.canvasTimeEnd-e.canvasTimeStart)/e.canvasWidth}},{key:"dragTimeSnap",value:function(e){return this.props.dragSnap?Math.round(e/this.props.dragSnap)*this.props.dragSnap:e}},{key:"dragTime",value:function(e){var t=this.itemTimeStart;if(this.state.dragging){var r=e.pageX-this.state.dragStart.x,i=r*this.coordinateToTimeRatio();return this.dragTimeSnap(t+i)}return t}},{key:"dragGroupDelta",value:function(e){if(this.state.dragging){if(!this.props.canChangeGroup)return 0;var t=e.pageY-this.state.dragStart.y,r=Math.round(t/this.props.lineHeight);return this.props.order+r<0?0-this.props.order:r}return 0}},{key:"resizeTimeDelta",value:function(e){var t=this.itemTimeEnd-this.itemTimeStart,r=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.coordinateToTimeRatio());return t+r<(this.props.dragSnap||1e3)?(this.props.dragSnap||1e3)-t:r}},{key:"componentDidMount",value:function(){}},{key:"mountInteract",value:function(){var e=this;console.log("mounting interact"),(0,d["default"])(this.refs.item).resizable({edges:{left:!1,right:!0,top:!1,bottom:!1},enabled:this.props.selected&&this.canResize()}).draggable({enabled:this.props.selected}).on("dragstart",function(t){return e.props.selected?void e.setState({dragging:!0,dragStart:{x:t.pageX,y:t.pageY},preDragPosition:{x:t.target.offsetLeft,y:t.target.offsetTop},dragTime:e.itemTimeStart,dragGroupDelta:0}):!1}).on("dragmove",function(t){if(e.state.dragging){var r=e.dragTime(t),i=e.dragGroupDelta(t);e.props.onDrag&&e.props.onDrag(e.itemId,r,e.props.order+i),e.setState({dragTime:r,dragGroupDelta:i})}}).on("dragend",function(t){e.state.dragging&&(e.props.onDrop&&e.props.onDrop(e.itemId,e.dragTime(t),e.props.order+e.dragGroupDelta(t)),e.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null}))}).on("resizestart",function(t){return e.props.selected?void e.setState({resizing:!0,resizeStart:t.pageX,resizeTimeDelta:0}):!1}).on("resizemove",function(t){e.state.resizing&&(e.props.onResizing&&e.props.onResizing(e.itemId,e.itemTimeEnd-e.itemTimeStart+e.resizeTimeDelta(t)),e.setState({resizeTimeDelta:e.resizeTimeDelta(t)}))}).on("resizeend",function(t){e.state.resizing&&(e.props.onResized&&0!==e.resizeTimeDelta(t)&&e.props.onResized(e.itemId,e.itemTimeEnd-e.itemTimeStart+e.resizeTimeDelta(t)),e.setState({resizing:null,resizeStart:null,resizeTimeDelta:null}))}),this.setState({interactMounted:!0})}},{key:"canResize",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];if(!e.canResize)return!1;var t=parseInt(this.dimensions(e).width,10);return t>=e.minResizeWidth}},{key:"canMove",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return!!e.canMove}},{key:"componentWillReceiveProps",value:function(e){this.cacheDataFromProps(e);var t=this.state.interactMounted,r=this.props.selected&&this.canMove(this.props),i=this.props.selected&&this.canResize(this.props),n=e.selected&&this.canMove(e),o=e.selected&&this.canResize(e);e.selected&&!t&&(o||n)&&(this.mountInteract(),t=!0),t&&i!==o&&(0,d["default"])(this.refs.item).resizable({enabled:o}),t&&r!==n&&(0,d["default"])(this.refs.item).draggable({enabled:n})}},{key:"dimensions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=this.state.dragging?this.state.dragTime:this.itemTimeStart,r=Math.max(this.itemTimeEnd-this.itemTimeStart+(this.state.resizing?this.state.resizeTimeDelta:0),e.dragSnap),i=(e.order+(this.state.dragging?this.state.dragGroupDelta:0)+.15+2)*e.lineHeight,n=.65*e.lineHeight,o=1/this.coordinateToTimeRatio(e);return{left:(t-e.canvasTimeStart)*o+"px",top:i+"px",width:Math.max(r*o,3)+"px",height:n+"px"}}},{key:"render",value:function(){var e=this.dimensions();return u["default"].createElement("div",{key:this.itemId,ref:"item",title:this.itemTitle,onClick:this.onClick,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,className:"timeline-item",style:{overflow:"hidden",cursor:this.props.selected&&this.canMove(this.props)?"move":"pointer",position:"absolute",boxSizing:"border-box",left:e.left,top:e.top,width:e.width,height:e.height,lineHeight:e.height,background:this.props.selected?"#FFC107":"#2196F3",border:this.props.selected?"1px solid #FF9800":"1px solid #1A6FB3",borderRightWidth:this.props.selected&&this.canResize(this.props)?"3px":"1px",fontSize:"12px",color:"white",zIndex:this.props.selected?2:1,textAlign:"center"}},this.itemTitle)}}]),t}(l.Component);t["default"]=h,h.propTypes={},h.defaultProps={selected:!1}},function(e,t){e.exports=r},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){return"function"==typeof e.get?e.get(t):e[t]}function o(e){return"function"==typeof e.count?e.count():e.length}function s(e,t){return o(e)===o(t)&&e.every(function(e,r){return e===n(t,r)})}function a(e,t,r,i){for(var n=(0,h["default"])(e).startOf(r);n.valueOf()<t;){var o=(0,h["default"])(n).add(1,r+"s");i(n,o),n=o}}function l(e,t){var r={second:1e3,minute:60,hour:60,day:24,month:30,year:12},i="year",n=e,o=17;return Object.keys(r).some(function(e){return n/=r[e],t/o>n?(i=e,!0):void 0}),i}function u(e){var t={second:"minute",minute:"hour",hour:"day",day:"month",month:"year"};return t[e]||""}function p(e){for(var t=0,r=0,i=!0;e;)t+=e.offsetLeft-(i?0:e.scrollLeft)+e.clientLeft,r+=e.offsetTop-(i?0:e.scrollTop)+e.clientTop,e=e.offsetParent,i=!1;return{x:t,y:r}}function d(e,t,r,i){return i?r&&t!==r?"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(i+" "+(e-1)+"px,")+(i+" "+e+"px,")+(r+" "+e+"px,")+(r+" "+(2*e-1)+"px,")+(i+" "+(2*e-1)+"px,")+(i+" "+2*e+"px")+")":"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(i+" "+(e-1)+"px,")+(i+" "+e+"px")+")":r&&t!==r?"repeating-linear-gradient(to bottom,"+t+","+t+" "+e+"px,"+r+" "+e+"px,"+r+" "+2*e+"px)":t}Object.defineProperty(t,"__esModule",{value:!0}),t._get=n,t._length=o,t.arraysEqual=s,t.iterateTimes=a,t.getMinUnit=l,t.getNextUnit=u,t.getParentPosition=p,t.createGradientPattern=d;var c=r(3),h=i(c)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(13),d=i(p),c=r(3),h=(i(c),function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.shouldComponentUpdate=d["default"],r}return s(t,e),a(t,[{key:"render",value:function(){var e={position:"fixed",left:"100px",bottom:"50px",background:"rgba(0,0,0,0.5)",color:"white",padding:"10px",fontSize:"20px",borderRadius:"5px"};return u["default"].createElement("div",{style:e},this.props.label)}}]),t}(l.Component));t["default"]=h,h.propTypes={label:u["default"].PropTypes.string.isRequired},h.defaultProps={label:""}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){return!(0,s["default"])(this.props,e)||!(0,s["default"])(this.state,t)}t.__esModule=!0,t["default"]=n;var o=r(14),s=i(o);e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var n=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++)if(!n(r[o])||e[r[o]]!==t[r[o]])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t;
}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(11),d=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={scrollTop:0,componentTop:0},r}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return"absolute"===e.fixedHeader&&window&&window.document&&this.state.scrollTop!==t.scrollTop?!0:!((0,p.arraysEqual)(e.groups,this.props.groups)&&e.keys===this.props.keys&&e.width===this.props.width&&e.lineHeight===this.props.lineHeight&&e.fixedHeader===this.props.fixedHeader&&e.zIndex===this.props.zIndex&&e.sidebarColor===this.props.sidebarColor&&e.sidebarBackgroundColor===this.props.sidebarBackgroundColor&&e.listItemPadding===this.props.listItemPadding&&e.borderWidth===this.props.borderWidth&&e.borderColor===this.props.borderColor)}},{key:"scroll",value:function(e){if("absolute"===this.props.fixedHeader&&window&&window.document){var t=window.document.body.scrollTop;this.setState({scrollTop:t})}}},{key:"setComponentTop",value:function(){var e=this.refs.sidebar.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"render",value:function(){var e=this,t=this.props,r=t.fixedHeader,i=t.width,n=t.lineHeight,o=t.zIndex,s=t.groups,a=t.listItemPadding,l=t.borderColor,d=t.borderWidth,c=t.sidebarBackgroundColor,h=t.sidebarColor,f=this.props.keys,m=f.groupIdKey,g=f.groupTitleKey,v=this.state.scrollTop,y={width:i+"px",height:n*((0,p._length)(s)+2)+"px",boxSizing:"border-box",borderRight:d+"px solid "+l,overflow:"hidden",display:"inline-block",verticalAlign:"top",position:"relative"},b={height:2*n+"px",lineHeight:n+"px",margin:"0",color:h,background:c,borderRight:d+"px solid "+l,boxSizing:"border-box",borderBottom:d+"px solid "+l,overflow:"hidden",width:i+"px"},T={width:i+"px"},w={height:n-1+"px",lineHeight:n-1+"px",padding:a,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",borderBottom:d+"px solid "+l,boxSizing:"content-box",margin:"0"};if("fixed"===r)b.position="fixed",b.zIndex=o,T.paddingTop=b.height;else if("absolute"===r){var P=this.state.componentTop;v>=P&&(b.position="absolute",b.top=v-P+"px",b.left="0",T.paddingTop=b.height)}var x=u["default"].createElement("div",{ref:"sidebarHeader",style:b},this.props.children),k=[],C=0;return this.props.groups.forEach(function(t){var r="function"==typeof e.props.backgroundColor?e.props.backgroundColor(C):e.props.backgroundColor||null,i=r?Object.assign({},w,{background:r}):w;k.push(u["default"].createElement("div",{key:(0,p._get)(t,m),style:i},(0,p._get)(t,g))),C+=1}),u["default"].createElement("div",{ref:"sidebar",style:y},x,u["default"].createElement("div",{style:T},k))}}]),t}(l.Component);t["default"]=d,d.propTypes={groups:u["default"].PropTypes.oneOfType([u["default"].PropTypes.array,u["default"].PropTypes.object]).isRequired,width:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,sidebarColor:u["default"].PropTypes.string.isRequired,sidebarBackgroundColor:u["default"].PropTypes.string.isRequired,backgroundColor:u["default"].PropTypes.func,borderColor:u["default"].PropTypes.string,borderWidth:u["default"].PropTypes.number,zIndex:u["default"].PropTypes.number,fixedHeader:u["default"].PropTypes.oneOf(["fixed","absolute","none"]),listItemPadding:u["default"].PropTypes.string,keys:u["default"].PropTypes.object.isRequired},d.defaultProps={fixedHeader:"none",zIndex:12,listItemPadding:"0 4px",borderWidth:1,borderColor:"#aaa",backgroundColor:null}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(11),d=function(e){function t(e){n(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={scrollTop:0,componentTop:0},r}return s(t,e),a(t,[{key:"scroll",value:function(e){if("absolute"===this.props.fixedHeader&&window&&window.document){var t=window.document.body.scrollTop;this.setState({scrollTop:t})}}},{key:"setComponentTop",value:function(){var e=this.refs.header.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"headerLabel",value:function(e,t,r){return"year"===t?e.format(46>r?"YY":"YYYY"):"month"===t?e.format(65>r?"MM/YY":75>r?"MM/YYYY":120>r?"MMM YYYY":"MMMM YYYY"):"day"===t?e.format(150>r?"L":"LL"):"hour"===t?e.format(50>r?"HH":130>r?"HH:00":150>r?"L, HH:00":"LL, HH:00"):e.format("LLL")}},{key:"subHeaderLabel",value:function(e,t,r){return"year"===t?e.format(46>r?"YY":"YYYY"):"month"===t?e.format(37>r?"MM":85>r?"MMM":"MMMM"):"day"===t?e.format(42>r?"D":"Do"):"hour"===t?e.format(50>r?"HH":"HH:00"):e.get("day"===t?"date":t)}},{key:"periodClick",value:function(e,t){this.props.showPeriod(e,t)}},{key:"render",value:function(){var e=this,t=[],r=this.props,i=r.canvasTimeStart,n=r.canvasTimeEnd,o=r.canvasWidth,s=r.lineHeight,a=r.visibleTimeStart,l=r.visibleTimeEnd,d=r.minUnit,c=r.headerColor,h=r.borderColor,f=r.fixedHeader,m=this.state.scrollTop,g=o/(n-i),v=this.props.lowerHeaderColor||c,y="year"!==d;(0,p.iterateTimes)(i,n,d,function(r,n){var o=Math.round((r.valueOf()-i)*g,-2),l=r.get("day"===d?"date":d),p=l===("day"===d?1:0),m=Math.round((n.valueOf()-r.valueOf())*g,-2),b=p?2:1,T=y?v:c,w="fixed"===f?Math.round((i-a)*g)-b+1:0;t.push(u["default"].createElement("div",{key:"label-"+r.valueOf(),onClick:e.periodClick.bind(e,r,d),style:{position:"absolute",top:("year"===d?0:s)+"px",left:o+w+"px",width:m+"px",height:("year"===d?2:1)*s+"px",lineHeight:("year"===d?2:1)*s+"px",fontSize:m>30?"14":m>20?"12":"10",overflow:"hidden",textAlign:"center",cursor:"pointer",borderLeft:b+"px solid "+h,color:T}},e.subHeaderLabel(r,d,m)))}),y&&!function(){var r=(0,p.getNextUnit)(d);(0,p.iterateTimes)(a,l,r,function(n,o){var p=Math.max(a,n.valueOf()),d=Math.min(l,o.valueOf()),m=Math.round((p.valueOf()-i)*g,-2),v=Math.round((d.valueOf()-i)*g,-2),y=v-m,b="fixed"===f?Math.round((i-a)*g)-1:0;t.push(u["default"].createElement("div",{key:"top-label-"+n.valueOf(),onClick:e.periodClick.bind(e,n,r),style:{position:"absolute",top:0,left:m+b+"px",width:y+"px",height:s-1+"px",lineHeight:s-1+"px",fontSize:"14",overflow:"hidden",textAlign:"center",cursor:"pointer",borderLeft:"2px solid "+h,color:c}},e.headerLabel(n,r,y)))})}();var b=this.props,T=b.headerBackgroundColor,w=b.lowerHeaderBackgroundColor,P=b.zIndex,x=y?(0,p.createGradientPattern)(s,T,w,this.props.borderColor):(0,p.createGradientPattern)(2*s,T,null,this.props.borderColor),k={height:2*s+"px",lineHeight:s+"px",margin:"0",background:x};if("fixed"===f)k.position="fixed",k.width="100%",k.zIndex=P;else if("absolute"===f){var C=this.state.componentTop;m>=C&&(k.position="absolute",k.top=m-C+"px",k.width=o+"px",k.left="0")}return u["default"].createElement("div",{ref:"header",key:"header",style:k},t)}}]),t}(l.Component);t["default"]=d,d.propTypes={showPeriod:u["default"].PropTypes.func.isRequired,canvasTimeStart:u["default"].PropTypes.number.isRequired,canvasTimeEnd:u["default"].PropTypes.number.isRequired,canvasWidth:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,visibleTimeStart:u["default"].PropTypes.number.isRequired,visibleTimeEnd:u["default"].PropTypes.number.isRequired,minUnit:u["default"].PropTypes.string.isRequired,width:u["default"].PropTypes.number.isRequired,headerColor:u["default"].PropTypes.string.isRequired,lowerHeaderColor:u["default"].PropTypes.string.isRequired,headerBackgroundColor:u["default"].PropTypes.string.isRequired,lowerHeaderBackgroundColor:u["default"].PropTypes.string.isRequired,borderColor:u["default"].PropTypes.string.isRequired,fixedHeader:u["default"].PropTypes.oneOf(["fixed","absolute","none"]),zIndex:u["default"].PropTypes.number},d.defaultProps={fixedHeader:"none",zIndex:11}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=r(11),d=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.fixedHeader===this.props.fixedHeader&&e.borderColor===this.props.borderColor)}},{key:"render",value:function(){var e=this,t=this.props,r=t.canvasTimeStart,i=t.canvasTimeEnd,n=t.canvasWidth,o=t.minUnit,s=t.lineCount,a=t.lineHeight,l=n/(i-r),d=[];return(0,p.iterateTimes)(r,i,o,function(t,i){var n=Math.round((t.valueOf()-r)*l,-2),p=t.get("day"===o?"date":o),c=p===("day"===o?1:0),h=c?2:1,f=Math.ceil((i.valueOf()-t.valueOf())*l)-h,m=e.props.borderColor||(c||f>100?"#aaa":"#ccc"),g="fixed"===e.props.fixedHeader&&c?-1:0,v="function"==typeof e.props.dayBackground?e.props.dayBackground(o,t):e.props.dayBackground||null;d.push(u["default"].createElement("div",{key:"line-"+t.valueOf(),style:{position:"absolute",top:2*a+"px",left:n+g+"px",width:f+"px",height:s*a+"px",borderLeft:h+"px solid "+m,background:v}}))}),u["default"].createElement("div",null,d)}}]),t}(l.Component);t["default"]=d,d.propTypes={canvasTimeStart:u["default"].PropTypes.number.isRequired,canvasTimeEnd:u["default"].PropTypes.number.isRequired,canvasWidth:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,lineCount:u["default"].PropTypes.number.isRequired,minUnit:u["default"].PropTypes.string.isRequired,fixedHeader:u["default"].PropTypes.string.isRequired,dayBackground:u["default"].PropTypes.func,borderColor:u["default"].PropTypes.string},d.defaultProps={fixedHeader:"none",dayBackground:null}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.borderWidth===this.props.borderWidth&&e.borderColor===this.props.borderColor)}},{key:"render",value:function(){for(var e=this.props,t=e.borderColor,r=e.lineCount,i=e.lineHeight,n=e.canvasWidth,o=e.borderWidth,s=[],a=0;r>a;a++){var l="function"==typeof this.props.backgroundColor?this.props.backgroundColor(a):this.props.backgroundColor||null;s.push(u["default"].createElement("div",{key:"horizontal-line-"+a,style:{position:"absolute",top:(a+2)*i+"px",left:"0px",width:n+"px",height:i-1+"px",borderBottom:o+"px solid "+t,boxSizing:"content-box",background:l}}))}return u["default"].createElement("div",null,s)}}]),t}(l.Component);t["default"]=p,p.propTypes={canvasWidth:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,lineCount:u["default"].PropTypes.number.isRequired,backgroundColor:u["default"].PropTypes.func,borderWidth:u["default"].PropTypes.number,borderColor:u["default"].PropTypes.string},p.defaultProps={borderWidth:1,dayBackground:null,borderColor:"#aaa"}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(2),u=i(l),p=function(e){function t(e){return n(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),a(t,[{key:"render",value:function(){var e=(new Date).getTime();if(e>this.props.canvasTimeStart&&e<this.props.canvasTimeEnd){var t=this.props.canvasWidth/(this.props.canvasTimeEnd-this.props.canvasTimeStart),r=Math.round((e-this.props.canvasTimeStart)*t),i=2*this.props.lineHeight,n=this.props.lineCount*this.props.lineHeight,o={position:"absolute",top:i+"px",left:r+"px",width:"2px",height:n+"px",background:"red"};return u["default"].createElement("div",{style:o})}return u["default"].createElement("div",null)}}]),t}(l.Component);t["default"]=p,p.propTypes={canvasTimeStart:u["default"].PropTypes.number.isRequired,canvasTimeEnd:u["default"].PropTypes.number.isRequired,canvasWidth:u["default"].PropTypes.number.isRequired,lineHeight:u["default"].PropTypes.number.isRequired,lineCount:u["default"].PropTypes.number.isRequired},p.defaultProps={}}])});
//# sourceMappingURL=react-calendar-timeline.min.js.map