!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("moment"),require("interact")):"function"==typeof define&&define.amd?define(["React","moment","interact"],t):"object"==typeof exports?exports.ReactCalendarTimeline=t(require("React"),require("moment"),require("interact")):e.ReactCalendarTimeline=t(e.React,e.moment,e.interact)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t["default"]=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),p=r(f),h=n(3),d=r(h);n(4);var v=n(8),g=n(10),m=r(g),y=n(14),_=r(y),b=n(17),T=r(b),w=n(18),x=r(w),S=n(19),k=r(S),O=n(20),E=r(O),P=n(21),R=r(P),j=n(13),z={groupIdKey:"id",groupTitleKey:"title",itemIdKey:"id",itemTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},M=function(e){function t(e){a(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e)),r=null,i=null;if(n.props.defaultTimeStart&&n.props.defaultTimeEnd)r=n.props.defaultTimeStart.valueOf(),i=n.props.defaultTimeEnd.valueOf();else if(n.props.visibleTimeStart&&n.props.visibleTimeEnd)r=n.props.visibleTimeStart,i=n.props.visibleTimeEnd;else{var s,l;r=(s=Math).min.apply(s,o(n.props.items.map(function(e){return(0,j._get)(e,"start").getTime()}))),i=(l=Math).max.apply(l,o(n.props.items.map(function(e){return(0,j._get)(e,"end").getTime()}))),r&&i||(r=(new Date).getTime()-6048e5,i=(new Date).getTime()+6048e5),n.props.onTimeInit&&n.props.onTimeInit(r,i)}return n.state={width:1e3,visibleTimeStart:r,visibleTimeEnd:i,canvasTimeStart:r-(i-r),selectedItem:null,dragTime:null,dragGroupTitle:null,resizeEnd:null,isDragging:!1,topOffset:0,resizingItem:null},n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.resize(),this.resizeEventListener={handleEvent:function(t){e.resize()}},window.addEventListener("resize",this.resizeEventListener),this.lastTouchDistance=null,this.refs.scrollComponent.addEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.addEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.addEventListener("touchend",this.touchEnd.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeEventListener),this.refs.scrollComponent.removeEventListener("touchstart",this.touchStart.bind(this)),this.refs.scrollComponent.removeEventListener("touchmove",this.touchMove.bind(this)),this.refs.scrollComponent.removeEventListener("touchend",this.touchEnd.bind(this))}},{key:"touchStart",value:function(e){if(2===e.touches.length)e.preventDefault(),this.lastTouchDistance=Math.abs(e.touches[0].screenX-e.touches[1].screenX),this.singleTouchStart=null,this.lastSingleTouch=null;else if(1===e.touches.length&&"fixed"===this.props.fixedHeader){e.preventDefault();var t=e.touches[0].clientX,n=e.touches[0].clientY;this.lastTouchDistance=null,this.singleTouchStart={x:t,y:n,screenY:window.pageYOffset},this.lastSingleTouch={x:t,y:n,screenY:window.pageYOffset}}}},{key:"touchMove",value:function(e){if(this.state.dragTime||this.state.resizeEnd)return void e.preventDefault();if(this.lastTouchDistance&&2===e.touches.length){e.preventDefault();var t=Math.abs(e.touches[0].screenX-e.touches[1].screenX),n=(0,j.getParentPosition)(e.currentTarget),r=(e.touches[0].screenX+e.touches[1].screenX)/2-n.x;0!==t&&0!==this.lastTouchDistance&&(this.changeZoom(this.lastTouchDistance/t,r/this.state.width),this.lastTouchDistance=t)}else if(this.lastSingleTouch&&1===e.touches.length&&"fixed"===this.props.fixedHeader){e.preventDefault();var i=e.touches[0].clientX,o=e.touches[0].clientY,a=i-this.lastSingleTouch.x,u=i-this.singleTouchStart.x,s=o-this.singleTouchStart.y;this.lastSingleTouch={x:i,y:o};var l=3*Math.abs(u)>Math.abs(s),c=3*Math.abs(s)>Math.abs(u);0!==a&&l&&(this.refs.scrollComponent.scrollLeft-=a),c&&window.scrollTo(window.pageXOffset,this.singleTouchStart.screenY-s)}}},{key:"touchEnd",value:function(e){this.lastTouchDistance&&(e.preventDefault(),this.lastTouchDistance=null),this.lastSingleTouch&&(e.preventDefault(),this.lastSingleTouch=null,this.singleTouchStart=null)}},{key:"resize",value:function(){var e=this.refs.container.clientWidth-this.props.sidebarWidth;this.setState({width:e,topOffset:this.refs.container.getBoundingClientRect().top}),this.refs.scrollComponent.scrollLeft=e}},{key:"onScroll",value:function(){var e=this.refs.scrollComponent,t=this.state.canvasTimeStart,n=e.scrollLeft,r=this.state.visibleTimeEnd-this.state.visibleTimeStart,i=this.state.width,o=t+r*n/i;n<.5*this.state.width&&(this.setState({canvasTimeStart:this.state.canvasTimeStart-r}),e.scrollLeft+=this.state.width),n>1.5*this.state.width&&(this.setState({canvasTimeStart:this.state.canvasTimeStart+r}),e.scrollLeft-=this.state.width),(this.state.visibleTimeStart!==o||this.state.visibleTimeEnd!==o+r)&&this.props.onTimeChange.bind(this)(o,o+r)}},{key:"componentWillReceiveProps",value:function(e){var t=e.visibleTimeStart,n=e.visibleTimeEnd;t&&n&&this.updateScrollCanvas(t,n)}},{key:"updateScrollCanvas",value:function(e,t){var n=this.state.canvasTimeStart,r=this.state.visibleTimeEnd-this.state.visibleTimeStart,i=t-e,o={visibleTimeStart:e,visibleTimeEnd:t},a=!1,u=e>=n+.5*r&&n+1.5*r>=e&&t>=n+1.5*r&&n+2.5*r>=t;if(u){var s=Math.round(this.state.width*(e-n)/i);this.refs.scrollComponent.scrollLeft!==s&&(a=!0)}else a=!0;a&&(o.canvasTimeStart=e-i,this.refs.scrollComponent.scrollLeft=this.state.width,this.props.onBoundsChange&&this.props.onBoundsChange(o.canvasTimeStart,o.canvasTimeStart+3*i)),this.setState(o)}},{key:"onWheel",value:function(e){var t=this.props.traditionalZoom;if(e.ctrlKey){e.preventDefault();var n=(0,j.getParentPosition)(e.currentTarget),r=e.clientX-n.x;this.changeZoom(1+e.deltaY/50,r/this.state.width)}else if(e.shiftKey){e.preventDefault();var i=this.refs.scrollComponent;i.scrollLeft+=e.deltaY}else if(e.altKey){var n=(0,j.getParentPosition)(e.currentTarget),r=e.clientX-n.x;this.changeZoom(1+e.deltaY/500,r/this.state.width)}else if("fixed"===this.props.fixedHeader&&(e.preventDefault(),0!==e.deltaX&&(t||(this.refs.scrollComponent.scrollLeft+=e.deltaX)),0!==e.deltaY&&(window.scrollTo(window.pageXOffset,window.pageYOffset+e.deltaY),t))){var n=(0,j.getParentPosition)(e.currentTarget),r=e.clientX-n.x;this.changeZoom(1+e.deltaY/50,r/this.state.width)}}},{key:"zoomIn",value:function(e){e.preventDefault(),this.changeZoom(.75)}},{key:"zoomOut",value:function(e){e.preventDefault(),this.changeZoom(1.25)}},{key:"changeZoom",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?.5:arguments[1],n=this.props,r=n.minZoom,i=n.maxZoom,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,a=Math.min(Math.max(Math.round(o*e),r),i),u=Math.round(this.state.visibleTimeStart+(o-a)*t);this.props.onTimeChange.bind(this)(u,u+a)}},{key:"showPeriod",value:function(e,t){var n=e.valueOf(),r=(0,d["default"])(e).add(1,t).valueOf(),i=r-n;if(!(36e4>i)){if("year"!==t&&this.state.visibleTimeStart===n&&this.state.visibleTimeEnd===r){var o=(0,j.getNextUnit)(t);n=e.startOf(o).valueOf(),r=(0,d["default"])(n).add(1,o),i=r-n}this.props.onTimeChange.bind(this)(n,n+i)}}},{key:"selectItem",value:function(e,t){this.state.selectedItem===e||this.props.itemTouchSendsClick&&"touch"===t?e&&this.props.onItemClick&&this.props.onItemClick(e):this.setState({selectedItem:e})}},{key:"rowAndTimeFromEvent",value:function(e){var t=this.props,n=t.lineHeight,r=t.dragSnap,i=this.state,o=i.width,a=i.visibleTimeStart,u=i.visibleTimeEnd,s=(0,j.getParentPosition)(e.currentTarget),l=e.clientX-s.x,c=e.clientY-s.y,f=Math.floor((c-2*n)/n),p=Math.round(a+l/o*(u-a));return p=Math.floor(p/r)*r,[f,p]}},{key:"scrollAreaClick",value:function(e){if(-1===e.target.className.indexOf("rct-item"))if(this.state.selectedItem)this.selectItem(null);else if(this.props.onCanvasClick){var t=this.rowAndTimeFromEvent(e),n=l(t,2),r=n[0],i=n[1];if(r>=0&&r<this.props.groups.length){var o=(0,j._get)(this.props.groups[r],this.props.keys.groupIdKey);this.props.onCanvasClick(o,i,e)}}}},{key:"dragItem",value:function(e,t,n){var r=this.props.groups[n],i=this.props.keys;this.setState({draggingItem:e,dragTime:t,newGroupOrder:n,dragGroupTitle:r?(0,j._get)(r,i.groupTitleKey):""})}},{key:"dropItem",value:function(e,t,n){this.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(e,t,n)}},{key:"resizingItem",value:function(e,t){this.setState({resizingItem:e,resizeEnd:t})}},{key:"resizedItem",value:function(e,t){this.setState({resizingItem:null,resizeEnd:null}),this.props.onItemResize&&this.props.onItemResize(e,t)}},{key:"handleMouseDown",value:function(e){this.setState({isDragging:!0,dragStartPosition:e.pageX})}},{key:"handleMouseMove",value:function(e){!this.state.isDragging||this.state.draggingItem||this.state.resizingItem||(this.refs.scrollComponent.scrollLeft+=this.state.dragStartPosition-e.pageX,this.setState({dragStartPosition:e.pageX}))}},{key:"handleMouseUp",value:function(e){this.setState({isDragging:!1,dragStartPosition:null})}},{key:"todayLine",value:function(e,t,n,r,i,o,a){return p["default"].createElement(R["default"],{canvasTimeStart:e,canvasTimeEnd:n,canvasWidth:r,lineHeight:this.props.lineHeight,lineCount:(0,j._length)(this.props.groups),height:o,headerHeight:a})}},{key:"verticalLines",value:function(e,t,n,r,i,o,a){return p["default"].createElement(k["default"],{canvasTimeStart:e,canvasTimeEnd:n,canvasWidth:r,lineHeight:this.props.lineHeight,lineCount:(0,j._length)(this.props.groups),minUnit:i,fixedHeader:this.props.fixedHeader,height:o,headerHeight:a})}},{key:"horizontalLines",value:function(e,t,n,r,i,o){return p["default"].createElement(E["default"],{canvasWidth:r,lineHeight:this.props.lineHeight,lineCount:(0,j._length)(this.props.groups),groups:this.props.groups,groupHeights:i,headerHeight:o})}},{key:"items",value:function(e,t,n,r,i,o,a,u){return p["default"].createElement(m["default"],{canvasTimeStart:e,canvasTimeEnd:n,canvasWidth:r,lineHeight:this.props.lineHeight,lineCount:(0,j._length)(this.props.groups),dimensionItems:o,minUnit:i,groupHeights:a,groupTops:u,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,moveResizeValidator:this.props.moveResizeValidator,topOffset:this.state.topOffset,itemSelect:this.selectItem.bind(this),itemDrag:this.dragItem.bind(this),itemDrop:this.dropItem.bind(this),itemResizing:this.resizingItem.bind(this),itemResized:this.resizedItem.bind(this)})}},{key:"infoLabel",value:function(){var e=null;return this.state.dragTime?e=(0,d["default"])(this.state.dragTime).format("LLL")+", "+this.state.dragGroupTitle:this.state.resizeEnd&&(e=(0,d["default"])(this.state.resizeEnd).format("LLL")),e?p["default"].createElement(_["default"],{label:e}):""}},{key:"header",value:function(e,t,n,r,i,o,a){return p["default"].createElement(x["default"],{canvasTimeStart:e,canvasTimeEnd:n,canvasWidth:r,lineHeight:this.props.lineHeight,minUnit:i,headerLabelGroupHeight:o,headerLabelHeight:a,width:this.state.width,zoom:t,visibleTimeStart:this.state.visibleTimeStart,visibleTimeEnd:this.state.visibleTimeEnd,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+1,showPeriod:this.showPeriod.bind(this)})}},{key:"sidebar",value:function(e,t,n){return p["default"].createElement(T["default"],{groups:this.props.groups,keys:this.props.keys,width:this.props.sidebarWidth,lineHeight:this.props.lineHeight,groupHeights:t,height:e,headerHeight:n,fixedHeader:this.props.fixedHeader,zIndex:this.props.zIndexStart+2},this.props.children)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.groups,r=e.keys,o=e.dragSnap,a=e.lineHeight,u=e.headerLabelGroupHeight,s=e.headerLabelHeight,l=e.stackItems,c=(i(e,["items","groups","keys","dragSnap","lineHeight","headerLabelGroupHeight","headerLabelHeight","stackItems"]),this.state),f=c.draggingItem,h=c.dragTime,d=c.resizingItem,g=c.resizeEnd,m=c.newGroupOrder,y=c.isDragging,_=this.state.canvasTimeStart,b=this.state.visibleTimeEnd-this.state.visibleTimeStart,T=_+3*b,w=3*this.state.width,x=(0,j.getMinUnit)(b,this.state.width),S=u+s,k=this.state.width,O=(0,j.getVisibleItems)(t,_,T,r),E=(0,j.getGroupOrders)(n,r),P=O.map(function(e){return{id:(0,j._get)(e,r.itemIdKey),dimensions:(0,j.dimensions)(e,E[(0,j._get)(e,r.itemGroupKey)],r,_,T,w,o,a,f,h,d,g,m)}}),R=l?j.stack:j.nostack,z=R(P,E,a,S),M=z.height,C=z.groupHeights,I=z.groupTops,H={height:M+"px"},L={width:k+"px",height:M+20+"px",cursor:y?"move":"default"},A={width:w+"px",height:M+"px"};return p["default"].createElement("div",{style:this.props.style,ref:"container",className:"react-calendar-timeline"},p["default"].createElement("div",{style:H,className:"rct-outer"},this.sidebar(M,C,S),p["default"].createElement("div",{ref:"scrollComponent",className:"rct-scroll",style:L,onClick:this.scrollAreaClick.bind(this),onScroll:this.onScroll.bind(this),onWheel:this.onWheel.bind(this),onMouseDown:this.handleMouseDown.bind(this),onMouseMove:this.handleMouseMove.bind(this),onMouseUp:this.handleMouseUp.bind(this)},p["default"].createElement("div",{ref:"canvasComponent",className:"rct-canvas",style:A},this.items(_,b,T,w,x,(0,v.keyBy)(P,"id"),C,I),this.verticalLines(_,b,T,w,x,M,S),this.horizontalLines(_,b,T,w,C,S),this.todayLine(_,b,T,w,x,M,S),this.infoLabel(),this.header(_,b,T,w,x,u,s)))))}}]),t}(f.Component);t["default"]=M,M.propTypes={groups:p["default"].PropTypes.oneOfType([p["default"].PropTypes.array,p["default"].PropTypes.object]).isRequired,items:p["default"].PropTypes.oneOfType([p["default"].PropTypes.array,p["default"].PropTypes.object]).isRequired,sidebarWidth:p["default"].PropTypes.number,dragSnap:p["default"].PropTypes.number,minResizeWidth:p["default"].PropTypes.number,fixedHeader:p["default"].PropTypes.oneOf(["fixed","absolute","none"]),zIndexStart:p["default"].PropTypes.number,lineHeight:p["default"].PropTypes.number,headerLabelGroupHeight:p["default"].PropTypes.number,headerLabelHeight:p["default"].PropTypes.number,minZoom:p["default"].PropTypes.number,maxZoom:p["default"].PropTypes.number,canChangeGroup:p["default"].PropTypes.bool,canMove:p["default"].PropTypes.bool,canResize:p["default"].PropTypes.bool,stackItems:p["default"].PropTypes.bool,traditionalZoom:p["default"].PropTypes.bool,itemTouchSendsClick:p["default"].PropTypes.bool,onItemMove:p["default"].PropTypes.func,onItemResize:p["default"].PropTypes.func,onItemClick:p["default"].PropTypes.func,onCanvasClick:p["default"].PropTypes.func,moveResizeValidator:p["default"].PropTypes.func,dayBackground:p["default"].PropTypes.func,style:p["default"].PropTypes.object,keys:p["default"].PropTypes.object,defaultTimeStart:p["default"].PropTypes.object,defaultTimeEnd:p["default"].PropTypes.object,visibleTimeStart:p["default"].PropTypes.number,visibleTimeEnd:p["default"].PropTypes.number,onTimeChange:p["default"].PropTypes.func,onTimeInit:p["default"].PropTypes.func,onBoundsChange:p["default"].PropTypes.func,children:p["default"].PropTypes.node},M.defaultProps={sidebarWidth:150,dragSnap:9e5,minResizeWidth:20,fixedHeader:"none",zIndexStart:10,lineHeight:30,headerLabelGroupHeight:30,headerLabelHeight:30,minZoom:36e5,maxZoom:15778368e4,canChangeGroup:!0,canMove:!0,canResize:!0,stackItems:!1,traditionalZoom:!1,onItemMove:null,onItemResize:null,onItemClick:null,onCanvasClick:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},keys:z,visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t){this.updateScrollCanvas(e,t)},onTimeInit:null,onBoundsChange:null,children:null}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){},,,,function(e,t,n){var r;(function(e,i){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function u(e,t,n){var r=n?n.length:0;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Array(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function l(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function c(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function f(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function p(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function h(e,t){return!!e.length&&x(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function v(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function g(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function y(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function _(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(u===Z?a===a:n(a,u)))var u=a,s=o}return s}function T(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function w(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function x(e,t,n){if(t!==t)return W(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function S(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function k(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function O(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==Z&&(n=n===Z?o:n+o)}return n}function E(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function P(e,t){return v(t,function(t){return[t,e[t]]})}function R(e){return function(t){return e(t)}}function j(e,t){return v(t,function(t){return e[t]})}function z(e,t){for(var n=-1,r=e.length;++n<r&&x(t,e[n],0)>-1;);return n}function M(e,t){for(var n=e.length;n--&&x(t,e[n],0)>-1;);return n}function C(e){return e&&e.Object===Object?e:null}function I(e,t){if(e!==t){var n=null===e,r=e===Z,i=e===e,o=null===t,a=t===Z,u=t===t;if(e>t&&!o||!i||n&&!a&&u||r&&u)return 1;if(t>e&&!n||!u||o&&!r&&i||a&&i)return-1}return 0}function H(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var s=I(i[r],o[r]);if(s){if(r>=u)return s;var l=n[r];return s*("desc"==l?-1:1)}}return e.index-t.index}function L(e){return bn[e]}function A(e){return Tn[e]}function D(e){return"\\"+Sn[e]}function W(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function U(e,t){return e="number"==typeof e||kt.test(e)?+e:-1,t=null==t?Te:t,e>-1&&e%1==0&&t>e}function Y(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function N(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=Ee,o[++i]=n);return o}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function B(e){if(!e||!pn.test(e))return e.length;for(var t=fn.lastIndex=0;fn.test(e);)t++;return t}function $(e){return e.match(fn)}function X(e){return wn[e]}function F(e){function t(e){if(xa(e)&&!ec(e)&&!(e instanceof i)){if(e instanceof r)return e;if(ks.call(e,"__wrapped__"))return Ti(e)}return new r(e)}function n(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Z}function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function C(){var e=new i(this.__wrapped__);return e.__actions__=Or(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Or(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Or(this.__views__),e}function Ye(){if(this.__filtered__){var e=new i(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function kt(){var e=this.__wrapped__.value(),t=this.__dir__,n=ec(e),r=0>t,i=n?e.length:0,o=ni(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,p=0,h=Xs(s,this.__takeCount__);if(!n||de>i||i==s&&h==s)return gr(e,this.__actions__);var d=[];e:for(;s--&&h>p;){l+=t;for(var v=-1,g=e[l];++v<f;){var m=c[v],y=m.iteratee,_=m.type,b=y(g);if(_==ge)g=b;else if(!b){if(_==ve)continue e;break e}}d[p++]=g}return d}function Rt(){}function jt(e,t){return Mt(e,t)&&delete e[t]}function zt(e,t){if(tl){var n=e[t];return n===_e?Z:n}return ks.call(e,t)?e[t]:Z}function Mt(e,t){return tl?e[t]!==Z:ks.call(e,t)}function Ct(e,t,n){e[t]=tl&&n===Z?_e:n}function It(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ht(){this.__data__={hash:new Rt,map:Js?new Js:[],string:new Rt}}function Lt(e){var t=this.__data__;return ci(e)?jt("string"==typeof e?t.string:t.hash,e):Js?t.map["delete"](e):Ft(t.map,e)}function At(e){var t=this.__data__;return ci(e)?zt("string"==typeof e?t.string:t.hash,e):Js?t.map.get(e):Zt(t.map,e)}function Dt(e){var t=this.__data__;return ci(e)?Mt("string"==typeof e?t.string:t.hash,e):Js?t.map.has(e):Vt(t.map,e)}function Wt(e,t){var n=this.__data__;return ci(e)?Ct("string"==typeof e?n.string:n.hash,e,t):Js?n.map.set(e,t):Qt(n.map,e,t),this}function qt(e){var t=-1,n=e?e.length:0;for(this.__data__=new It;++t<n;)this.push(e[t])}function Ut(e,t){var n=e.__data__;if(ci(t)){var r=n.__data__,i="string"==typeof t?r.string:r.hash;return i[t]===_e}return n.has(t)}function Yt(e){var t=this.__data__;if(ci(e)){var n=t.__data__,r="string"==typeof e?n.string:n.hash;r[e]=_e}else t.set(e,_e)}function Gt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nt(){this.__data__={array:[],map:null}}function Kt(e){var t=this.__data__,n=t.array;return n?Ft(n,e):t.map["delete"](e)}function Bt(e){var t=this.__data__,n=t.array;return n?Zt(n,e):t.map.get(e)}function $t(e){var t=this.__data__,n=t.array;return n?Vt(n,e):t.map.has(e)}function Xt(e,t){var n=this.__data__,r=n.array;r&&(r.length<de-1?Qt(r,e,t):(n.array=null,n.map=new It(r)));var i=n.map;return i&&i.set(e,t),this}function Ft(e,t){var n=Jt(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():Us.call(e,n,1),!0}function Zt(e,t){var n=Jt(e,t);return 0>n?Z:e[n][1]}function Vt(e,t){return Jt(e,t)>-1}function Jt(e,t){for(var n=e.length;n--;)if(oa(e[n][0],t))return n;return-1}function Qt(e,t,n){var r=Jt(e,t);0>r?e.push([t,n]):e[r][1]=n}function en(e,t,n,r){return e===Z||oa(e,xs[n])&&!ks.call(r,n)?t:e}function tn(e,t,n){(n!==Z&&!oa(e[t],n)||"number"==typeof t&&n===Z&&!(t in e))&&(e[t]=n)}function nn(e,t,n){var r=e[t];(!oa(r,n)||oa(r,xs[t])&&!ks.call(e,t)||n===Z&&!(t in e))&&(e[t]=n)}function rn(e,t){return e&&Er(t,au(t),e)}function on(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?Z:nu(e,t[n]);return o}function an(e,t,n){return e===e&&(n!==Z&&(e=n>=e?e:n),t!==Z&&(e=e>=t?e:t)),e}function un(e,t,n,r,i,o){var a;if(n&&(a=i?n(e,r,i,o):n(e)),a!==Z)return a;if(!wa(e))return e;var u=ec(e);if(u){if(a=ii(e),!t)return Or(e,a)}else{var s=ti(e),c=s==Ce||s==Ie;if(s!=Ae&&s!=Pe&&(!c||i))return _n[s]?ai(e,s,t):i?e:{};if(q(e))return i?e:{};if(a=oi(c?{}:e),!t)return Rr(e,rn(a,e))}o||(o=new Gt);var f=o.get(e);return f?f:(o.set(e,a),(u?l:En)(e,function(r,i){nn(a,i,un(r,t,n,i,e,o))}),u?a:Rr(e,a))}function sn(e){var t=au(e),n=t.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=t[i],a=e[o],u=r[o];if(u===Z&&!(o in Object(r))||!a(u))return!1}return!0}}function ln(e,t,n){if("function"!=typeof e)throw new Ts(ye);return qs(function(){e.apply(Z,n)},t)}function fn(e,t,n,r){var i=-1,o=h,a=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=v(t,R(n))),r?(o=d,a=!1):t.length>=de&&(o=Ut,a=!1,t=new qt(t));e:for(;++i<u;){var c=e[i],f=n?n(c):c;if(a&&f===f){for(var p=l;p--;)if(t[p]===f)continue e;s.push(c)}else o(t,f,r)||s.push(c)}return s}function bn(e,t){var n=!0;return cl(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Tn(e,t,n,r){var i=e.length;for(n=Ua(n),0>n&&(n=-n>i?0:i+n),r=r===Z||r>i?i:Ua(r),0>r&&(r+=i),r=n>r?0:Ya(r);r>n;)e[n++]=t;return e}function wn(e,t){var n=[];return cl(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function xn(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];ca(a)&&(n||ec(a)||sa(a))?t?xn(a,t,n,r):g(r,a):n||(r[r.length]=a)}return r}function Sn(e,t){return null==e?e:pl(e,t,uu)}function En(e,t){return e&&pl(e,t,au)}function Pn(e,t){return e&&hl(e,t,au)}function Rn(e,t){return p(t,function(t){return _a(e[t])})}function jn(e,t){t=li(t,e)?[t+""]:pr(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:Z}function zn(e,t){return ks.call(e,t)||"object"==typeof e&&t in e&&null===Ls(e)}function Mn(e,t){return t in Object(e)}function Hn(e,t,n){return e>=Xs(t,n)&&e<$s(t,n)}function Ln(e,t,n){for(var r=n?d:h,i=e.length,o=i,a=Array(i),u=[];o--;){var s=e[o];o&&t&&(s=v(s,R(t))),a[o]=!n&&(t||s.length>=120)?new qt(o&&s):Z}s=e[0];var l=-1,c=s.length,f=a[0];e:for(;++l<c;){var p=s[l],g=t?t(p):p;if(!(f?Ut(f,g):r(u,g,n))){for(var o=i;--o;){var m=a[o];if(!(m?Ut(m,g):r(e[o],g,n)))continue e}f&&f.push(g),u.push(p)}}return u}function An(e,t,n){li(t,e)||(t=pr(t),e=gi(e,t),t=Wi(t));var r=null==e?e:e[t];return null==r?Z:u(r,e,n)}function Dn(e,t,n,r,i){return e===t?!0:null==e||null==t||!wa(e)&&!xa(t)?e!==e&&t!==t:Wn(e,t,Dn,n,r,i)}function Wn(e,t,n,r,i,o){var a=ec(e),u=ec(t),s=Re,l=Re;a||(s=ti(e),s==Pe?s=Ae:s!=Ae&&(a=La(e))),u||(l=ti(t),l==Pe?l=Ae:l!=Ae&&(u=La(t)));var c=s==Ae&&!q(e),f=l==Ae&&!q(t),p=s==l;if(p&&!a&&!c)return Fr(e,t,s,n,r,i);var h=i&le;if(!h){var d=c&&ks.call(e,"__wrapped__"),v=f&&ks.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,i,o)}return p?(o||(o=new Gt),(a?Xr:Zr)(e,t,n,r,i,o)):!1}function qn(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){u=n[i];var s=u[0],l=e[s],c=u[1];if(a&&u[2]){if(l===Z&&!(s in e))return!1}else{var f=new Gt,p=r?r(l,c,s,e,t,f):Z;if(!(p===Z?Dn(c,l,r,se|le,f):p))return!1}}return!0}function Un(e){var t=typeof e;return"function"==t?e:null==e?Fu:"object"==t?ec(e)?Bn(e[0],e[1]):Kn(e):rs(e)}function Yn(e){return Bs(Object(e))}function Gn(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Nn(e,t){var n=-1,r=la(e)?Array(e.length):[];return cl(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Kn(e){var t=Qr(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==Z||n in Object(e))}}return function(n){return n===e||qn(n,e,t)}}function Bn(e,t){return function(n){var r=nu(n,e);return r===Z&&r===t?iu(n,e):Dn(t,r,Z,se|le)}}function $n(e,t,n,r,i){if(e!==t){var o=ec(t)||La(t)?Z:uu(t);l(o||t,function(a,u){if(o&&(u=a,a=t[u]),wa(a))i||(i=new Gt),Xn(e,t,u,n,$n,r,i);else{var s=r?r(e[u],a,u+"",e,t,i):Z;s===Z&&(s=a),tn(e,u,s)}})}}function Xn(e,t,n,r,i,o,a){var u=e[n],s=t[n],l=a.get(s)||a.get(u);if(l)return void tn(e,n,l);var c=o?o(u,s,n+"",e,t,a):Z,f=c===Z;f&&(c=s,ec(s)||La(s)?c=ec(u)?r?Or(u):u:ca(u)?Or(u):un(s):za(s)||sa(s)?c=sa(u)?Na(u):!wa(u)||r&&_a(u)?un(s):r?un(u):u:f=!1),a.set(s,c),f&&i(c,s,r,o,a),tn(e,n,c)}function Fn(e,t,n){var r=-1,i=Jr();t=v(t.length?t:Array(1),function(e){return i(e)});var o=Nn(e,function(e,n,i){var o=v(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return k(o,function(e,t){return H(e,t,n)})}function Zn(e,t){return e=Object(e),m(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Vn(e,t){var n={};return Sn(e,function(e,r){t(e,r)&&(n[r]=e)}),n}function Jn(e){return function(t){return null==t?Z:t[e]}}function Qn(e){return function(t){return jn(t,e)}}function er(e,t){return tr(e,t)}function tr(e,t,n){var r=-1,i=t.length,o=e;for(n&&(o=v(e,function(e){return n(e)}));++r<i;)for(var a=0,u=t[r],s=n?n(u):u;(a=x(o,s,a))>-1;)o!==e&&Us.call(o,a,1),Us.call(e,a,1);return e}function nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(r==n||i!=o){var o=i;if(U(i))Us.call(e,i,1);else if(li(i,e))delete e[i];else{var a=pr(i),u=gi(e,a);null!=u&&delete u[Wi(a)]}}}return e}function rr(e,t){return e+Gs(Zs()*(t-e+1))}function ir(e,t,n,r){for(var i=-1,o=$s(Ys((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function or(e,t,n,r){t=li(t,e)?[t+""]:pr(t);for(var i=-1,o=t.length,a=o-1,u=e;null!=u&&++i<o;){var s=t[i];if(wa(u)){var l=n;if(i!=a){var c=u[s];l=r?r(c,s,u):Z,l===Z&&(l=null==c?U(t[i+1])?[]:{}:c)}nn(u,s,l)}u=u[s]}return e}function ar(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function ur(e,t){var n;return cl(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function sr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Oe>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return lr(e,t,Fu,n)}function lr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,u=null===t,s=t===Z;o>i;){var l=Gs((i+o)/2),c=n(e[l]),f=c!==Z,p=c===c;if(a)var h=p||r;else h=u?p&&f&&(r||null!=c):s?p&&(r||f):null==c?!1:r?t>=c:t>c;h?i=l+1:o=l}return Xs(o,ke)}function cr(e){return fr(e)}function fr(e,t){for(var n=0,r=e.length,i=e[0],o=t?t(i):i,a=o,u=0,s=[i];++n<r;)i=e[n],o=t?t(i):i,oa(o,a)||(a=o,s[++u]=i);return s}function pr(e){return ec(e)?e:yi(e)}function hr(e,t,n){var r=-1,i=h,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=d;else if(o>=de){var l=t?null:vl(e);if(l)return K(l);a=!1,i=Ut,s=new qt}else s=t?[]:u;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(a&&f===f){for(var p=s.length;p--;)if(s[p]===f)continue e;t&&s.push(f),u.push(c)}else i(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function dr(e,t){t=li(t,e)?[t+""]:pr(t),e=gi(e,t);var n=Wi(t);return null!=e&&ru(e,n)?delete e[n]:!0}function vr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ar(e,r?0:o,r?o+1:i):ar(e,r?o+1:0,r?i:o);
}function gr(e,t){var n=e;return n instanceof i&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?g(fn(o,e[r],t,n),fn(e[r],o,t,n)):e[r];return o&&o.length?hr(o,t,n):[]}function yr(e){var t=e.constructor,n=new t(e.byteLength),r=new Cs(n);return r.set(new Cs(e)),n}function _r(e){var t=e.constructor;return m(G(e),o,new t)}function br(e){var t=e.constructor,n=new t(e.source,_t.exec(e));return n.lastIndex=e.lastIndex,n}function Tr(e){var t=e.constructor;return m(K(e),a,new t)}function wr(e){return Ms?Object(al.call(e)):{}}function xr(e,t){var n=e.buffer,r=e.constructor;return new r(t?yr(n):n,e.byteOffset,e.length)}function Sr(e,t,n){for(var r=n.length,i=-1,o=$s(e.length-r,0),a=-1,u=t.length,s=Array(u+o);++a<u;)s[a]=t[a];for(;++i<r;)s[n[i]]=e[i];for(;o--;)s[a++]=e[i++];return s}function kr(e,t,n){for(var r=-1,i=n.length,o=-1,a=$s(e.length-i,0),u=-1,s=t.length,l=Array(a+s);++o<a;)l[o]=e[o];for(var c=o;++u<s;)l[c+u]=t[u];for(;++r<i;)l[c+n[r]]=e[o++];return l}function Or(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Er(e,t,n){return Pr(e,t,n)}function Pr(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],u=r?r(n[a],e[a],a,n,e):e[a];nn(n,a,u)}return n}function Rr(e,t){return Er(e,yl(e),t)}function jr(e,t){return function(n,r){var i=t?t():{};if(r=Jr(r),ec(n))for(var o=-1,a=n.length;++o<a;){var u=n[o];e(i,u,r(u),n)}else cl(n,function(t,n,o){e(i,t,r(t),o)});return i}}function zr(e){return Zo(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:Z,a=i>2?n[2]:Z;for(o="function"==typeof o?(i--,o):Z,a&&si(n[0],n[1],a)&&(o=3>i?Z:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}function Mr(e,t){return function(n,r){if(null==n)return n;if(!la(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Cr(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++i];if(n(o[s],s,o)===!1)break}return t}}function Ir(e,t,n){function r(){var t=this&&this!==Cn&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&J,o=Ar(e);return r}function Hr(e){return function(t){t=Ba(t);var n=pn.test(t)?$(t):Z,r=n?n[0]:t.charAt(0),i=n?n.slice(1).join(""):t.slice(1);return r[e]()+i}}function Lr(e){return function(t){return m(Ku(ku(t)),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ll(e.prototype),r=e.apply(n,t);return wa(r)?r:n}}function Dr(e,t,n){function r(){for(var o=arguments.length,a=o,s=Array(o),l=this&&this!==Cn&&this instanceof r?i:e,c=r.placeholder;a--;)s[a]=arguments[a];var f=3>o&&s[0]!==c&&s[o-1]!==c?[]:N(s,c);return o-=f.length,n>o?Kr(e,t,qr,c,Z,s,f,Z,Z,n-o):u(l,this,s)}var i=Ar(e);return r}function Wr(e){return Zo(function(t){t=xn(t);var n=t.length,i=n,o=r.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new Ts(ye);if(o&&!u&&"wrapper"==Vr(a))var u=new r([],!0)}for(i=u?i:n;++i<n;){a=t[i];var s=Vr(a),l="wrapper"==s?gl(a):Z;u=l&&fi(l[0])&&l[1]==(oe|te|re|ae)&&!l[4].length&&1==l[9]?u[Vr(l[0])].apply(u,l[3]):1==a.length&&fi(a)?u[s]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&ec(r)&&r.length>=de)return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function qr(e,t,n,r,i,o,a,u,s,l){function c(){for(var y=arguments.length,_=y,b=Array(y);_--;)b[_]=arguments[_];if(r&&(b=Sr(b,r,i)),o&&(b=kr(b,o,a)),d||v){var T=c.placeholder,w=N(b,T);if(y-=w.length,l>y)return Kr(e,t,qr,T,n,b,w,u,s,l-y)}var x=p?n:this,S=h?x[e]:e;return u?b=mi(b,u):g&&b.length>1&&b.reverse(),f&&s<b.length&&(b.length=s),this&&this!==Cn&&this instanceof c&&(S=m||Ar(S)),S.apply(x,b)}var f=t&oe,p=t&J,h=t&Q,d=t&te,v=t&ne,g=t&ue,m=h?Z:Ar(e);return c}function Ur(e){return Zo(function(t){return t=v(xn(t),Jr()),Zo(function(n){var r=this;return e(t,function(e){return u(e,r,n)})})})}function Yr(e,t,n){t=Ua(t);var r=B(e);if(!t||r>=t)return"";var i=t-r;n=n===Z?" ":n+"";var o=Cu(n,Ys(i/B(n)));return pn.test(n)?$(o).slice(0,i).join(""):o.slice(0,i)}function Gr(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,c=r.length,f=Array(c+s),p=this&&this!==Cn&&this instanceof i?a:e;++l<c;)f[l]=r[l];for(;s--;)f[l++]=arguments[++t];return u(p,o?n:this,f)}var o=t&J,a=Ar(e);return i}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&si(t,n,r)&&(n=r=Z),t=Ga(t),t=t===t?t:0,n===Z?(n=t,t=0):n=Ga(n)||0,r=r===Z?n>t?1:-1:Ga(r)||0,ir(t,n,r,e)}}function Kr(e,t,n,r,i,o,a,u,s,l){var c=t&te,f=u?Or(u):Z,p=c?a:Z,h=c?Z:a,d=c?o:Z,v=c?Z:o;t|=c?re:ie,t&=~(c?ie:re),t&ee||(t&=~(J|Q));var g=[e,t,i,d,p,v,h,f,s,l],m=n.apply(Z,g);return fi(e)&&_l(m,g),m.placeholder=r,m}function Br(e){var t=_s[e];return function(e,n){if(e=Ga(e),n=Ua(n)){var r=(Ba(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Ba(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function $r(e,t,n,r,i,o,a,u){var s=t&Q;if(!s&&"function"!=typeof e)throw new Ts(ye);var l=r?r.length:0;if(l||(t&=~(re|ie),r=i=Z),a=a===Z?a:$s(Ua(a),0),u=u===Z?u:Ua(u),l-=i?i.length:0,t&ie){var c=r,f=i;r=i=Z}var p=s?Z:gl(e),h=[e,t,n,r,i,c,f,o,a,u];if(p&&di(h,p),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],u=h[9]=null==h[9]?s?0:e.length:$s(h[9]-l,0),!u&&t&(te|ne)&&(t&=~(te|ne)),t&&t!=J)d=t==te||t==ne?Dr(e,t,u):t!=re&&t!=(J|re)||i.length?qr.apply(Z,h):Gr(e,t,n,r);else var d=Ir(e,t,n);var v=p?dl:_l;return v(d,h)}function Xr(e,t,n,r,i,o){var a=-1,u=i&le,s=i&se,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var f=o.get(e);if(f)return f==t;var p=!0;for(o.set(e,t);++a<l;){var h=e[a],d=t[a];if(r)var v=u?r(d,h,a,t,e,o):r(h,d,a,e,t,o);if(v!==Z){if(v)continue;p=!1;break}if(s){if(!_(t,function(e){return h===e||n(h,e,r,i,o)})){p=!1;break}}else if(h!==d&&!n(h,d,r,i,o)){p=!1;break}}return o["delete"](e),p}function Fr(e,t,n,r,i,o){switch(n){case Ge:return e.byteLength==t.byteLength&&r(new Cs(e),new Cs(t))?!0:!1;case je:case ze:return+e==+t;case Me:return e.name==t.name&&e.message==t.message;case Le:return e!=+e?t!=+t:e==+t;case De:case qe:return e==t+"";case He:var a=G;case We:var u=o&le;return a||(a=K),(u||e.size==t.size)&&r(a(e),a(t),i,o|se);case Ue:return!!Ms&&al.call(e)==al.call(t)}return!1}function Zr(e,t,n,r,i,o){var a=i&le,u=au(e),s=u.length,l=au(t),c=l.length;if(s!=c&&!a)return!1;for(var f=s;f--;){var p=u[f];if(!(a?p in t:zn(t,p)))return!1}var h=o.get(e);if(h)return h==t;var d=!0;o.set(e,t);for(var v=a;++f<s;){p=u[f];var g=e[p],m=t[p];if(r)var y=a?r(m,g,p,t,e,o):r(g,m,p,e,t,o);if(!(y===Z?g===m||n(g,m,r,i,o):y)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](e),d}function Vr(e){for(var t=e.name+"",n=sl[t],r=ks.call(sl,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Jr(){var e=t.iteratee||Zu;return e=e===Zu?Un:e,arguments.length?e(arguments[0],arguments[1]):e}function Qr(e){for(var t=vu(e),n=t.length;n--;)t[n][2]=hi(t[n][1]);return t}function ei(e,t){var n=null==e?Z:e[t];return Ea(n)?n:Z}function ti(e){return Ps.call(e)}function ni(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Xs(t,e+a);break;case"takeRight":e=$s(e,t-a)}}return{start:e,end:t}}function ri(e,t,n){if(null==e)return!1;var r=n(e,t);return r||li(t)||(t=pr(t),e=gi(e,t),null!=e&&(t=Wi(t),r=n(e,t))),r||Ta(e&&e.length)&&U(t,e.length)&&(ec(e)||Ia(e)||sa(e))}function ii(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ks.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function oi(e){var t=e.constructor;return ll(_a(t)?t.prototype:Z)}function ai(e,t,n){var r=e.constructor;switch(t){case Ge:return yr(e);case je:case ze:return new r(+e);case Ne:case Ke:case Be:case $e:case Xe:case Fe:case Ze:case Ve:case Je:return xr(e,n);case He:return _r(e);case Le:case qe:return new r(e);case De:return br(e);case We:return Tr(e);case Ue:return wr(e)}}function ui(e){var t=e?e.length:Z;return Ta(t)&&(ec(e)||Ia(e)||sa(e))?E(t,String):null}function si(e,t,n){if(!wa(n))return!1;var r=typeof t;return("number"==r?la(n)&&U(t,n.length):"string"==r&&t in n)?oa(n[t],e):!1}function li(e,t){return"number"==typeof e?!0:!ec(e)&&(ct.test(e)||!lt.test(e)||null!=t&&e in Object(t))}function ci(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!==e||null==e}function fi(e){var n=Vr(e),r=t[n];if("function"!=typeof r||!(n in i.prototype))return!1;if(e===r)return!0;var o=gl(r);return!!o&&e===o[0]}function pi(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||xs;return e===n}function hi(e){return e===e&&!wa(e)}function di(e,t){var n=e[1],r=t[1],i=n|r,o=(J|Q|oe)>i,a=r==oe&&n==te||r==oe&&n==ae&&e[7].length<=t[8]||r==(oe|ae)&&t[7].length<=t[8]&&n==te;if(!o&&!a)return e;r&J&&(e[2]=t[2],i|=n&J?0:ee);var u=t[3];if(u){var s=e[3];e[3]=s?Sr(s,u,t[4]):Or(u),e[4]=s?N(e[3],Ee):Or(t[4])}return u=t[5],u&&(s=e[5],e[5]=s?kr(s,u,t[6]):Or(u),e[6]=s?N(e[5],Ee):Or(t[6])),u=t[7],u&&(e[7]=Or(u)),r&oe&&(e[8]=null==e[8]?t[8]:Xs(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function vi(e,t,n,r,i,o){return wa(e)&&wa(t)&&(o.set(t,e),$n(e,t,Z,vi,o)),e}function gi(e,t){return 1==t.length?e:nu(e,ar(t,0,-1))}function mi(e,t){for(var n=e.length,r=Xs(t.length,n),i=Or(e);r--;){var o=t[r];e[r]=U(o,n)?i[o]:Z}return e}function yi(e){var t=[];return Ba(e).replace(ft,function(e,n,r,i){t.push(r?i.replace(mt,"$1"):n||e)}),t}function _i(e){return ca(e)?e:[]}function bi(e){return"function"==typeof e?e:Fu}function Ti(e){if(e instanceof i)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=Or(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function wi(e,t){t=$s(Ua(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var r=0,i=-1,o=Array(Ys(n/t));n>r;)o[++i]=ar(e,r,r+=t);return o}function xi(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function Si(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:Ua(t),ar(e,0>t?0:t,r)):[]}function ki(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:Ua(t),t=r-t,ar(e,0,0>t?0:t)):[]}function Oi(e,t){return e&&e.length?vr(e,Jr(t,3),!0,!0):[]}function Ei(e,t){return e&&e.length?vr(e,Jr(t,3),!0):[]}function Pi(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&si(e,t,n)&&(n=0,r=i),Tn(e,t,n,r)):[]}function Ri(e,t){return e&&e.length?w(e,Jr(t,3)):-1}function ji(e,t){return e&&e.length?w(e,Jr(t,3),!0):-1}function zi(e,t){var n=e?e.length:0;return n?xn(v(e,Jr(t,3))):[]}function Mi(e){var t=e?e.length:0;return t?xn(e):[]}function Ci(e){var t=e?e.length:0;return t?xn(e,!0):[]}function Ii(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Hi(e){return e?e[0]:Z}function Li(e,t,n){var r=e?e.length:0;return r?(n=Ua(n),0>n&&(n=$s(r+n,0)),x(e,t,n)):-1}function Ai(e){return ki(e,1)}function Di(e,t){return e?Ks.call(e,t):""}function Wi(e){var t=e?e.length:0;return t?e[t-1]:Z}function qi(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==Z&&(i=Ua(n),i=(0>i?$s(r+i,0):Xs(i,r-1))+1),t!==t)return W(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ui(e,t){return e&&e.length&&t&&t.length?er(e,t):e}function Yi(e,t,n){return e&&e.length&&t&&t.length?tr(e,t,Jr(n)):e}function Gi(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Jr(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return nr(e,i),n}function Ni(e){return e?Vs.call(e):e}function Ki(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&si(e,t,n)?(t=0,n=r):(t=null==t?0:Ua(t),n=n===Z?r:Ua(n)),ar(e,t,n)):[]}function Bi(e,t){return sr(e,t)}function $i(e,t,n){return lr(e,t,Jr(n))}function Xi(e,t){var n=e?e.length:0;if(n){var r=sr(e,t);if(n>r&&oa(e[r],t))return r}return-1}function Fi(e,t){return sr(e,t,!0)}function Zi(e,t,n){return lr(e,t,Jr(n),!0)}function Vi(e,t){var n=e?e.length:0;if(n){var r=sr(e,t,!0)-1;if(oa(e[r],t))return r}return-1}function Ji(e){return e&&e.length?cr(e):[]}function Qi(e,t){return e&&e.length?fr(e,Jr(t)):[]}function eo(e){return Si(e,1)}function to(e,t,n){return e&&e.length?(t=n||t===Z?1:Ua(t),ar(e,0,0>t?0:t)):[]}function no(e,t,n){var r=e?e.length:0;return r?(t=n||t===Z?1:Ua(t),t=r-t,ar(e,0>t?0:t,r)):[]}function ro(e,t){return e&&e.length?vr(e,Jr(t,3),!1,!0):[]}function io(e,t){return e&&e.length?vr(e,Jr(t,3)):[]}function oo(e){return e&&e.length?hr(e):[]}function ao(e,t){return e&&e.length?hr(e,Jr(t)):[]}function uo(e,t){return e&&e.length?hr(e,Z,t):[]}function so(e){if(!e||!e.length)return[];var t=0;return e=p(e,function(e){return ca(e)?(t=$s(e.length,t),!0):void 0}),E(t,function(t){return v(e,Jn(t))})}function lo(e,t){if(!e||!e.length)return[];var n=so(e);return null==t?n:v(n,function(e){return u(t,Z,e)})}function co(e,t){for(var n=-1,r=e?e.length:0,i=t?t.length:0,o={};++n<r;)or(o,e[n],i>n?t[n]:Z);return o}function fo(e){var n=t(e);return n.__chain__=!0,n}function po(e,t){return t(e),e}function ho(e,t){return t(e)}function vo(){return fo(this)}function go(){return new r(this.value(),this.__chain__)}function mo(e){return this.map(e).flatten()}function yo(){this.__values__===Z&&(this.__values__=qa(this.value()));var e=this.__index__>=this.__values__.length,t=e?Z:this.__values__[this.__index__++];return{done:e,value:t}}function _o(){return this}function bo(e){for(var t,r=this;r instanceof n;){var i=Ti(r);i.__index__=0,i.__values__=Z,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function To(){var e=this.__wrapped__;if(e instanceof i){var t=e;return this.__actions__.length&&(t=new i(this)),t=t.reverse(),t.__actions__.push({func:ho,args:[Ni],thisArg:Z}),new r(t,this.__chain__)}return this.thru(Ni)}function wo(){return gr(this.__wrapped__,this.__actions__)}function xo(e,t,n){var r=ec(e)?f:bn;return n&&si(e,t,n)&&(t=Z),r(e,Jr(t,3))}function So(e,t){var n=ec(e)?p:wn;return n(e,Jr(t,3))}function ko(e,t){if(t=Jr(t,3),ec(e)){var n=w(e,t);return n>-1?e[n]:Z}return T(e,t,cl)}function Oo(e,t){if(t=Jr(t,3),ec(e)){var n=w(e,t,!0);return n>-1?e[n]:Z}return T(e,t,fl)}function Eo(e,t){return"function"==typeof t&&ec(e)?l(e,t):cl(e,bi(t))}function Po(e,t){return"function"==typeof t&&ec(e)?c(e,t):fl(e,bi(t))}function Ro(e,t,n,r){e=la(e)?e:_u(e),n=n&&!r?Ua(n):0;var i=e.length;return 0>n&&(n=$s(i+n,0)),Ia(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&x(e,t,n)>-1}function jo(e,t){var n=ec(e)?v:Nn;return n(e,Jr(t,3))}function zo(e,t,n,r){return null==e?[]:(ec(t)||(t=null==t?[]:[t]),n=r?Z:n,ec(n)||(n=null==n?[]:[n]),Fn(e,t,n))}function Mo(e,t,n){var r=ec(e)?m:S,i=arguments.length<3;return r(e,Jr(t,4),n,i,cl)}function Co(e,t,n){var r=ec(e)?y:S,i=arguments.length<3;return r(e,Jr(t,4),n,i,fl)}function Io(e,t){var n=ec(e)?p:wn;return t=Jr(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function Ho(e){var t=la(e)?e:_u(e),n=t.length;return n>0?t[rr(0,n-1)]:Z}function Lo(e,t){var n=-1,r=qa(e),i=r.length,o=i-1;for(t=an(Ua(t),0,i);++n<t;){var a=rr(n,o),u=r[a];r[a]=r[n],r[n]=u}return r.length=t,r}function Ao(e){return Lo(e,Se)}function Do(e){if(null==e)return 0;if(la(e)){var t=e.length;return t&&Ia(e)?B(e):t}return au(e).length}function Wo(e,t,n){var r=ec(e)?_:ur;return n&&si(e,t,n)&&(t=Z),r(e,Jr(t,3))}function qo(e,t){if("function"!=typeof t)throw new Ts(ye);return e=Ua(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Uo(e,t,n){return t=n?Z:t,t=e&&null==t?e.length:t,$r(e,oe,Z,Z,Z,Z,t)}function Yo(e,t){var n;if("function"!=typeof t)throw new Ts(ye);return e=Ua(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=Z),n}}function Go(e,t,n){t=n?Z:t;var r=$r(e,te,Z,Z,Z,Z,Z,t);return r.placeholder=Go.placeholder,r}function No(e,t,n){t=n?Z:t;var r=$r(e,ne,Z,Z,Z,Z,Z,t);return r.placeholder=No.placeholder,r}function Ko(e,t,n){function r(){d&&Is(d),c&&Is(c),g=0,l=c=h=d=v=Z}function i(t,n){n&&Is(n),c=d=v=Z,t&&(g=Kl(),f=e.apply(h,l),d||c||(l=h=Z))}function o(){var e=t-(Kl()-p);0>=e||e>t?i(v,c):d=qs(o,e)}function a(){return(d&&v||c&&_)&&(f=e.apply(h,l)),r(),f}function u(){i(_,d)}function s(){if(l=arguments,p=Kl(),h=this,v=_&&(d||!m),y===!1)var n=m&&!d;else{c||m||(g=p);var r=y-(p-g),i=0>=r||r>y;i?(c&&(c=Is(c)),g=p,f=e.apply(h,l)):c||(c=qs(u,r))}return i&&d?d=Is(d):d||t===y||(d=qs(o,t)),n&&(i=!0,f=e.apply(h,l)),!i||d||c||(l=h=Z),f}var l,c,f,p,h,d,v,g=0,m=!1,y=!1,_=!0;if("function"!=typeof e)throw new Ts(ye);return t=Ga(t)||0,wa(n)&&(m=!!n.leading,y="maxWait"in n&&$s(Ga(n.maxWait)||0,t),_="trailing"in n?!!n.trailing:_),s.cancel=r,s.flush=a,s}function Bo(e){return $r(e,ue)}function $o(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ts(ye);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new $o.Cache,n}function Xo(e){if("function"!=typeof e)throw new Ts(ye);return function(){return!e.apply(this,arguments)}}function Fo(e){return Yo(2,e)}function Zo(e,t){if("function"!=typeof e)throw new Ts(ye);return t=$s(t===Z?e.length-1:Ua(t),0),function(){for(var n=arguments,r=-1,i=$s(n.length-t,0),o=Array(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,u(e,this,a)}}function Vo(e){if("function"!=typeof e)throw new Ts(ye);return function(t){return u(e,this,t)}}function Jo(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ts(ye);return wa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ko(e,t,{leading:r,maxWait:t,trailing:i})}function Qo(e){return Uo(e,1)}function ea(e,t){return t=null==t?Fu:t,Vl(t,e)}function ta(e){return un(e)}function na(e,t){return un(e,!1,t)}function ra(e){return un(e,!0)}function ia(e,t){return un(e,!0,t)}function oa(e,t){return e===t||e!==e&&t!==t}function aa(e,t){return e>t}function ua(e,t){return e>=t}function sa(e){return ca(e)&&ks.call(e,"callee")&&(!Ws.call(e,"callee")||Ps.call(e)==Pe)}function la(e){return null!=e&&!("function"==typeof e&&_a(e))&&Ta(ml(e))}function ca(e){return xa(e)&&la(e)}function fa(e){return e===!0||e===!1||xa(e)&&Ps.call(e)==je}function pa(e){return xa(e)&&Ps.call(e)==ze}function ha(e){return!!e&&1===e.nodeType&&xa(e)&&!za(e)}function da(e){return!xa(e)||_a(e.splice)?!Do(e):!au(e).length}function va(e,t){return Dn(e,t)}function ga(e,t,n){n="function"==typeof n?n:Z;var r=n?n(e,t):Z;return r===Z?Dn(e,t,n):!!r}function ma(e){return xa(e)&&"string"==typeof e.message&&Ps.call(e)==Me}function ya(e){return"number"==typeof e&&Ns(e)}function _a(e){var t=wa(e)?Ps.call(e):"";return t==Ce||t==Ie}function ba(e){return"number"==typeof e&&e==Ua(e)}function Ta(e){return"number"==typeof e&&e>-1&&e%1==0&&Te>=e}function wa(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function xa(e){return!!e&&"object"==typeof e}function Sa(e,t){return e===t||qn(e,t,Qr(t))}function ka(e,t,n){return n="function"==typeof n?n:Z,qn(e,t,Qr(t),n)}function Oa(e){return ja(e)&&e!=+e}function Ea(e){return null==e?!1:_a(e)?js.test(Ss.call(e)):xa(e)&&(q(e)?js:xt).test(e)}function Pa(e){return null===e}function Ra(e){return null==e}function ja(e){return"number"==typeof e||xa(e)&&Ps.call(e)==Le}function za(e){if(!xa(e)||Ps.call(e)!=Ae||q(e))return!1;var t=xs;if("function"==typeof e.constructor&&(t=Ls(e)),null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Ss.call(n)==Es}function Ma(e){return wa(e)&&Ps.call(e)==De}function Ca(e){return ba(e)&&e>=-Te&&Te>=e}function Ia(e){return"string"==typeof e||!ec(e)&&xa(e)&&Ps.call(e)==qe}function Ha(e){return"symbol"==typeof e||xa(e)&&Ps.call(e)==Ue}function La(e){return xa(e)&&Ta(e.length)&&!!yn[Ps.call(e)]}function Aa(e){return e===Z}function Da(e,t){return t>e}function Wa(e,t){return t>=e}function qa(e){if(!e)return[];if(la(e))return Ia(e)?$(e):Or(e);if(Ds&&e[Ds])return Y(e[Ds]());var t=ti(e),n=t==He?G:t==We?K:_u;return n(e)}function Ua(e){if(!e)return 0===e?e:0;if(e=Ga(e),e===be||e===-be){var t=0>e?-1:1;return t*we}var n=e%1;return e===e?n?e-n:e:0}function Ya(e){return e?an(Ua(e),0,Se):0}function Ga(e){if(wa(e)){var t=_a(e.valueOf)?e.valueOf():e;e=wa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(dt,"");var n=wt.test(e);return n||St.test(e)?On(e.slice(2),n?2:8):Tt.test(e)?xe:+e}function Na(e){return Er(e,uu(e))}function Ka(e){return an(Ua(e),-Te,Te)}function Ba(e){if("string"==typeof e)return e;if(null==e)return"";if(Ha(e))return Ms?ul.call(e):"";var t=e+"";return"0"==t&&1/e==-be?"-0":t}function $a(e,t){var n=ll(e);return t?rn(n,t):n}function Xa(e,t){return T(e,Jr(t,3),En,!0)}function Fa(e,t){return T(e,Jr(t,3),Pn,!0)}function Za(e,t){return null==e?e:pl(e,bi(t),uu)}function Va(e,t){return null==e?e:hl(e,bi(t),uu)}function Ja(e,t){return e&&En(e,bi(t))}function Qa(e,t){return e&&Pn(e,bi(t))}function eu(e){return null==e?[]:Rn(e,au(e))}function tu(e){return null==e?[]:Rn(e,uu(e))}function nu(e,t,n){var r=null==e?Z:jn(e,t);return r===Z?n:r}function ru(e,t){return ri(e,t,zn)}function iu(e,t){return ri(e,t,Mn)}function ou(e,t,n){return m(au(e),function(r,i){var o=e[i];return t&&!n?ks.call(r,o)?r[o].push(i):r[o]=[i]:r[o]=i,r},{})}function au(e){var t=pi(e);if(!t&&!la(e))return Yn(e);var n=ui(e),r=!!n,i=n||[],o=i.length;for(var a in e)!zn(e,a)||r&&("length"==a||U(a,o))||t&&"constructor"==a||i.push(a);return i}function uu(e){for(var t=-1,n=pi(e),r=Gn(e),i=r.length,o=ui(e),a=!!o,u=o||[],s=u.length;++t<i;){var l=r[t];a&&("length"==l||U(l,s))||"constructor"==l&&(n||!ks.call(e,l))||u.push(l)}return u}function su(e,t){var n={};return t=Jr(t,3),En(e,function(e,r,i){n[t(e,r,i)]=e}),n}function lu(e,t){var n={};return t=Jr(t,3),En(e,function(e,r,i){n[r]=t(e,r,i)}),n}function cu(e,t){return t=Jr(t,2),Vn(e,function(e,n){return!t(e,n)})}function fu(e,t){return null==e?{}:Vn(e,Jr(t,2))}function pu(e,t,n){if(li(t,e))r=null==e?Z:e[t];else{t=pr(t);var r=nu(e,t);e=gi(e,t)}return r===Z&&(r=n),_a(r)?r.call(e):r}function hu(e,t,n){return null==e?e:or(e,t,n)}function du(e,t,n,r){return r="function"==typeof r?r:Z,null==e?e:or(e,t,n,r)}function vu(e){return P(e,au(e))}function gu(e){return P(e,uu(e))}function mu(e,t,n){var r=ec(e)||La(e);if(t=Jr(t,4),null==n)if(r||wa(e)){var i=e.constructor;n=r?ec(e)?new i:[]:ll(_a(i)?i.prototype:Z)}else n={};return(r?l:En)(e,function(e,r,i){return t(n,e,r,i)}),n}function yu(e,t){return null==e?!0:dr(e,t)}function _u(e){return e?j(e,au(e)):[]}function bu(e){return null==e?j(e,uu(e)):[]}function Tu(e,t,n){return n===Z&&(n=t,t=Z),n!==Z&&(n=Ga(n),n=n===n?n:0),t!==Z&&(t=Ga(t),t=t===t?t:0),an(Ga(e),t,n)}function wu(e,t,n){return t=Ga(t)||0,n===Z?(n=t,t=0):n=Ga(n)||0,e=Ga(e),Hn(e,t,n)}function xu(e,t,n){if(n&&"boolean"!=typeof n&&si(e,t,n)&&(t=n=Z),n===Z&&("boolean"==typeof t?(n=t,t=Z):"boolean"==typeof e&&(n=e,e=Z)),e===Z&&t===Z?(e=0,t=1):(e=Ga(e)||0,t===Z?(t=e,e=0):t=Ga(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Zs();return Xs(e+i*(t-e+kn("1e-"+((i+"").length-1))),t)}return rr(e,t)}function Su(e){return mc(Ba(e).toLowerCase())}function ku(e){return e=Ba(e),e&&e.replace(Ot,L).replace(cn,"")}function Ou(e,t,n){e=Ba(e),t="string"==typeof t?t:t+"";var r=e.length;return n=n===Z?r:an(Ua(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Eu(e){return e=Ba(e),e&&ot.test(e)?e.replace(rt,A):e}function Pu(e){return e=Ba(e),e&&ht.test(e)?e.replace(pt,"\\$&"):e}function Ru(e,t,n){e=Ba(e),t=Ua(t);var r=B(e);if(!t||r>=t)return e;var i=(t-r)/2,o=Gs(i),a=Ys(i);return Yr("",o,n)+e+Yr("",a,n)}function ju(e,t,n){return e=Ba(e),e+Yr(e,t,n)}function zu(e,t,n){return e=Ba(e),Yr(e,t,n)+e}function Mu(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Ba(e).replace(dt,""),Fs(e,t||(bt.test(e)?16:10))}function Cu(e,t){e=Ba(e),t=Ua(t);var n="";if(!e||1>t||t>Te)return n;do t%2&&(n+=e),t=Gs(t/2),e+=e;while(t);return n}function Iu(){var e=arguments,t=Ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Hu(e,t,n){return Ba(e).split(t,n)}function Lu(e,t,n){return e=Ba(e),n=an(Ua(n),0,e.length),e.lastIndexOf(t,n)==n}function Au(e,n,r){var i=t.templateSettings;r&&si(e,n,r)&&(n=Z),e=Ba(e),n=rc({},n,i,en);var o,a,u=rc({},n.imports,i.imports,en),s=au(u),l=j(u,s),c=0,f=n.interpolate||Et,p="__p += '",h=bs((n.escape||Et).source+"|"+f.source+"|"+(f===st?yt:Et).source+"|"+(n.evaluate||Et).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n";e.replace(h,function(t,n,r,i,u,s){return r||(r=i),p+=e.slice(c,s).replace(Pt,D),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(Qe,""):p).replace(et,"$1").replace(tt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Tc(function(){return Function(s,d+"return "+p).apply(Z,l)});if(g.source=p,ma(g))throw g;return g}function Du(e){return Ba(e).toLowerCase()}function Wu(e){return Ba(e).toUpperCase()}function qu(e,t,n){if(e=Ba(e),!e)return e;if(n||t===Z)return e.replace(dt,"");if(t+="",!t)return e;var r=$(e),i=$(t);return r.slice(z(r,i),M(r,i)+1).join("")}function Uu(e,t,n){if(e=Ba(e),!e)return e;if(n||t===Z)return e.replace(gt,"");if(t+="",!t)return e;var r=$(e);return r.slice(0,M(r,$(t))+1).join("")}function Yu(e,t,n){if(e=Ba(e),!e)return e;if(n||t===Z)return e.replace(vt,"");if(t+="",!t)return e;var r=$(e);return r.slice(z(r,$(t))).join("")}function Gu(e,t){var n=ce,r=fe;if(wa(t)){var i="separator"in t?t.separator:i;n="length"in t?Ua(t.length):n,r="omission"in t?Ba(t.omission):r}e=Ba(e);var o=e.length;if(pn.test(e)){var a=$(e);o=a.length}if(n>=o)return e;var u=n-B(r);if(1>u)return r;var s=a?a.slice(0,u).join(""):e.slice(0,u);if(i===Z)return s+r;if(a&&(u+=s.length-u),Ma(i)){if(e.slice(u).search(i)){var l,c=s;for(i.global||(i=bs(i.source,Ba(_t.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;s=s.slice(0,f===Z?u:f)}}else if(e.indexOf(i,u)!=u){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+r}function Nu(e){return e=Ba(e),e&&it.test(e)?e.replace(nt,X):e}function Ku(e,t,n){return e=Ba(e),t=n?Z:t,t===Z&&(t=vn.test(e)?dn:hn),e.match(t)||[]}function Bu(e){var t=e?e.length:0,n=Jr();return e=t?v(e,function(e){if("function"!=typeof e[1])throw new Ts(ye);return[n(e[0]),e[1]]}):[],Zo(function(n){for(var r=-1;++r<t;){var i=e[r];if(u(i[0],this,n))return u(i[1],this,n)}})}function $u(e){return sn(un(e,!0))}function Xu(e){return function(){return e}}function Fu(e){return e}function Zu(e){return xa(e)&&!ec(e)?Vu(e):Un(e)}function Vu(e){return Kn(un(e,!0))}function Ju(e,t){return Bn(e,un(t,!0))}function Qu(e,t,n){var r=au(t),i=Rn(t,r);null!=n||wa(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Rn(t,au(t)));var o=wa(n)&&"chain"in n?n.chain:!0,a=_a(e);return l(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Or(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,g([this.value()],arguments))})}),e}function es(){return Cn._===this&&(Cn._=Rs),this}function ts(){}function ns(e){return e=Ua(e),function(){return arguments[e]}}function rs(e){return li(e)?Jn(e):Qn(e)}function is(e){return function(t){return null==e?Z:jn(e,t)}}function os(e,t){if(e=Ua(e),1>e||e>Te)return[];var n=Se,r=Xs(e,Se);t=bi(t),e-=Se;for(var i=E(r,t);++n<e;)t(n);return i}function as(e){return ec(e)?v(e,String):yi(e)}function us(e){var t=++Os;return Ba(e)+t}function ss(e,t){var n;return e!==Z&&(n=e),t!==Z&&(n=n===Z?t:n+t),n}function ls(e){return e&&e.length?b(e,Fu,aa):Z}function cs(e,t){return e&&e.length?b(e,Jr(t),aa):Z}function fs(e){return vs(e)/(e?e.length:0)}function ps(e){return e&&e.length?b(e,Fu,Da):Z}function hs(e,t){return e&&e.length?b(e,Jr(t),Da):Z}function ds(e,t){var n;return e!==Z&&(n=e),t!==Z&&(n=n===Z?t:n-t),n}function vs(e){return e&&e.length?O(e,Fu):Z}function gs(e,t){return e&&e.length?O(e,Jr(t)):Z}e=e?In.defaults({},e,In.pick(Cn,gn)):Cn;var ms=e.Date,ys=e.Error,_s=e.Math,bs=e.RegExp,Ts=e.TypeError,ws=e.Array.prototype,xs=e.Object.prototype,Ss=e.Function.prototype.toString,ks=xs.hasOwnProperty,Os=0,Es=Ss.call(Object),Ps=xs.toString,Rs=Cn._,js=bs("^"+Ss.call(ks).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zs=e.Reflect,Ms=e.Symbol,Cs=e.Uint8Array,Is=e.clearTimeout,Hs=zs?zs.enumerate:Z,Ls=Object.getPrototypeOf,As=Object.getOwnPropertySymbols,Ds="symbol"==typeof(Ds=Ms&&Ms.iterator)?Ds:Z,Ws=xs.propertyIsEnumerable,qs=e.setTimeout,Us=ws.splice,Ys=_s.ceil,Gs=_s.floor,Ns=e.isFinite,Ks=ws.join,Bs=Object.keys,$s=_s.max,Xs=_s.min,Fs=e.parseInt,Zs=_s.random,Vs=ws.reverse,Js=ei(e,"Map"),Qs=ei(e,"Set"),el=ei(e,"WeakMap"),tl=ei(Object,"create"),nl=el&&new el,rl=Js?Ss.call(Js):"",il=Qs?Ss.call(Qs):"",ol=Ms?Ms.prototype:Z,al=Ms?ol.valueOf:Z,ul=Ms?ol.toString:Z,sl={};t.templateSettings={escape:at,evaluate:ut,interpolate:st,variable:"",imports:{_:t}};var ll=function(){function e(){}return function(t){if(wa(t)){e.prototype=t;var n=new e;e.prototype=Z}return n||{}}}(),cl=Mr(En),fl=Mr(Pn,!0),pl=Cr(),hl=Cr(!0);Hs&&!Ws.call({valueOf:1},"valueOf")&&(Gn=function(e){return Y(Hs(e))});var dl=nl?function(e,t){return nl.set(e,t),e}:Fu,vl=Qs&&2===new Qs([1,2]).size?function(e){return new Qs(e)}:ts,gl=nl?function(e){return nl.get(e)}:ts,ml=Jn("length"),yl=As||function(){return[]};(Js&&ti(new Js)!=He||Qs&&ti(new Qs)!=We)&&(ti=function(e){var t=Ps.call(e),n=t==Ae?e.constructor:null,r="function"==typeof n?Ss.call(n):"";if(r){if(r==rl)return He;if(r==il)return We}return t});var _l=function(){var e=0,t=0;return function(n,r){var i=Kl(),o=he-(i-t);if(t=i,o>0){if(++e>=pe)return n}else e=0;return dl(n,r)}}(),bl=Zo(function(e,t){return ec(e)||(e=null==e?[]:[Object(e)]),t=xn(t),s(e,t)}),Tl=Zo(function(e,t){return ca(e)?fn(e,xn(t,!1,!0)):[]}),wl=Zo(function(e,t){var n=Wi(t);return ca(n)&&(n=Z),ca(e)?fn(e,xn(t,!1,!0),Jr(n)):[]}),xl=Zo(function(e,t){var n=Wi(t);return ca(n)&&(n=Z),ca(e)?fn(e,xn(t,!1,!0),Z,n):[]}),Sl=Zo(function(e){var t=v(e,_i);return t.length&&t[0]===e[0]?Ln(t):[]}),kl=Zo(function(e){var t=Wi(e),n=v(e,_i);return t===Wi(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?Ln(n,Jr(t)):[]}),Ol=Zo(function(e){var t=Wi(e),n=v(e,_i);return t===Wi(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?Ln(n,Z,t):[]}),El=Zo(Ui),Pl=Zo(function(e,t){t=v(xn(t),String);var n=on(e,t);return nr(e,t.sort(I)),n}),Rl=Zo(function(e){return hr(xn(e,!1,!0))}),jl=Zo(function(e){var t=Wi(e);return ca(t)&&(t=Z),hr(xn(e,!1,!0),Jr(t))}),zl=Zo(function(e){var t=Wi(e);return ca(t)&&(t=Z),hr(xn(e,!1,!0),Z,t)}),Ml=Zo(function(e,t){return ca(e)?fn(e,t):[]}),Cl=Zo(function(e){return mr(p(e,ca))}),Il=Zo(function(e){var t=Wi(e);return ca(t)&&(t=Z),mr(p(e,ca),Jr(t))}),Hl=Zo(function(e){var t=Wi(e);return ca(t)&&(t=Z),mr(p(e,ca),Z,t)}),Ll=Zo(so),Al=Zo(function(e){var t=e.length,n=t>1?e[t-1]:Z;return n="function"==typeof n?(e.pop(),n):Z,lo(e,n)}),Dl=Zo(function(e){e=xn(e);var t=e.length,n=t?e[0]:0,o=this.__wrapped__,a=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&o instanceof i&&U(n)?(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:ho,args:[a],thisArg:Z}),new r(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Z),e})):this.thru(a)}),Wl=jr(function(e,t,n){ks.call(e,n)?++e[n]:e[n]=1}),ql=jr(function(e,t,n){ks.call(e,n)?e[n].push(t):e[n]=[t]}),Ul=Zo(function(e,t,n){var r=-1,i="function"==typeof t,o=li(t),a=la(e)?Array(e.length):[];return cl(e,function(e){var s=i?t:o&&null!=e?e[t]:Z;a[++r]=s?u(s,e,n):An(e,t,n)}),a}),Yl=jr(function(e,t,n){
e[n]=t}),Gl=jr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Nl=Zo(function(e,t){if(null==e)return[];var n=t.length;return n>1&&si(e,t[0],t[1])?t=[]:n>2&&si(t[0],t[1],t[2])&&(t.length=1),Fn(e,xn(t),[])}),Kl=ms.now,Bl=Zo(function(e,t,n){var r=J;if(n.length){var i=N(n,Bl.placeholder);r|=re}return $r(e,r,t,n,i)}),$l=Zo(function(e,t,n){var r=J|Q;if(n.length){var i=N(n,$l.placeholder);r|=re}return $r(t,r,e,n,i)}),Xl=Zo(function(e,t){return ln(e,1,t)}),Fl=Zo(function(e,t,n){return ln(e,Ga(t)||0,n)}),Zl=Zo(function(e,t){t=v(xn(t),Jr());var n=t.length;return Zo(function(r){for(var i=-1,o=Xs(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return u(e,this,r)})}),Vl=Zo(function(e,t){var n=N(t,Vl.placeholder);return $r(e,re,Z,t,n)}),Jl=Zo(function(e,t){var n=N(t,Jl.placeholder);return $r(e,ie,Z,t,n)}),Ql=Zo(function(e,t){return $r(e,ae,Z,Z,Z,xn(t))}),ec=Array.isArray,tc=zr(function(e,t){Er(t,au(t),e)}),nc=zr(function(e,t){Er(t,uu(t),e)}),rc=zr(function(e,t,n,r){Pr(t,uu(t),e,r)}),ic=zr(function(e,t,n,r){Pr(t,au(t),e,r)}),oc=Zo(function(e,t){return on(e,xn(t))}),ac=Zo(function(e){return e.push(Z,en),u(rc,Z,e)}),uc=Zo(function(e){return e.push(Z,vi),u(cc,Z,e)}),sc=Zo(An),lc=zr(function(e,t,n){$n(e,t,n)}),cc=zr(function(e,t,n,r){$n(e,t,n,r)}),fc=Zo(function(e,t){return null==e?{}:(t=v(xn(t),String),Zn(e,fn(uu(e),t)))}),pc=Zo(function(e,t){return null==e?{}:Zn(e,xn(t))}),hc=Lr(function(e,t,n){return t=t.toLowerCase(),e+(n?Su(t):t)}),dc=Lr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),vc=Lr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),gc=Hr("toLowerCase"),mc=Hr("toUpperCase"),yc=Lr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),_c=Lr(function(e,t,n){return e+(n?" ":"")+Su(t)}),bc=Lr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Tc=Zo(function(e,t){try{return u(e,Z,t)}catch(n){return ma(n)?n:new ys(n)}}),wc=Zo(function(e,t){return l(xn(t),function(t){e[t]=Bl(e[t],e)}),e}),xc=Wr(),Sc=Wr(!0),kc=Zo(function(e,t){return function(n){return An(n,e,t)}}),Oc=Zo(function(e,t){return function(n){return An(e,n,t)}}),Ec=Ur(v),Pc=Ur(f),Rc=Ur(_),jc=Nr(),zc=Nr(!0),Mc=Br("ceil"),Cc=Br("floor"),Ic=Br("round");return t.prototype=n.prototype,r.prototype=ll(n.prototype),r.prototype.constructor=r,i.prototype=ll(n.prototype),i.prototype.constructor=i,Rt.prototype=tl?tl(null):xs,It.prototype.clear=Ht,It.prototype["delete"]=Lt,It.prototype.get=At,It.prototype.has=Dt,It.prototype.set=Wt,qt.prototype.push=Yt,Gt.prototype.clear=Nt,Gt.prototype["delete"]=Kt,Gt.prototype.get=Bt,Gt.prototype.has=$t,Gt.prototype.set=Xt,$o.Cache=It,t.after=qo,t.ary=Uo,t.assign=tc,t.assignIn=nc,t.assignInWith=rc,t.assignWith=ic,t.at=oc,t.before=Yo,t.bind=Bl,t.bindAll=wc,t.bindKey=$l,t.chain=fo,t.chunk=wi,t.compact=xi,t.concat=bl,t.cond=Bu,t.conforms=$u,t.constant=Xu,t.countBy=Wl,t.create=$a,t.curry=Go,t.curryRight=No,t.debounce=Ko,t.defaults=ac,t.defaultsDeep=uc,t.defer=Xl,t.delay=Fl,t.difference=Tl,t.differenceBy=wl,t.differenceWith=xl,t.drop=Si,t.dropRight=ki,t.dropRightWhile=Oi,t.dropWhile=Ei,t.fill=Pi,t.filter=So,t.flatMap=zi,t.flatten=Mi,t.flattenDeep=Ci,t.flip=Bo,t.flow=xc,t.flowRight=Sc,t.fromPairs=Ii,t.functions=eu,t.functionsIn=tu,t.groupBy=ql,t.initial=Ai,t.intersection=Sl,t.intersectionBy=kl,t.intersectionWith=Ol,t.invert=ou,t.invokeMap=Ul,t.iteratee=Zu,t.keyBy=Yl,t.keys=au,t.keysIn=uu,t.map=jo,t.mapKeys=su,t.mapValues=lu,t.matches=Vu,t.matchesProperty=Ju,t.memoize=$o,t.merge=lc,t.mergeWith=cc,t.method=kc,t.methodOf=Oc,t.mixin=Qu,t.negate=Xo,t.nthArg=ns,t.omit=fc,t.omitBy=cu,t.once=Fo,t.orderBy=zo,t.over=Ec,t.overArgs=Zl,t.overEvery=Pc,t.overSome=Rc,t.partial=Vl,t.partialRight=Jl,t.partition=Gl,t.pick=pc,t.pickBy=fu,t.property=rs,t.propertyOf=is,t.pull=El,t.pullAll=Ui,t.pullAllBy=Yi,t.pullAt=Pl,t.range=jc,t.rangeRight=zc,t.rearg=Ql,t.reject=Io,t.remove=Gi,t.rest=Zo,t.reverse=Ni,t.sampleSize=Lo,t.set=hu,t.setWith=du,t.shuffle=Ao,t.slice=Ki,t.sortBy=Nl,t.sortedUniq=Ji,t.sortedUniqBy=Qi,t.split=Hu,t.spread=Vo,t.tail=eo,t.take=to,t.takeRight=no,t.takeRightWhile=ro,t.takeWhile=io,t.tap=po,t.throttle=Jo,t.thru=ho,t.toArray=qa,t.toPairs=vu,t.toPairsIn=gu,t.toPath=as,t.toPlainObject=Na,t.transform=mu,t.unary=Qo,t.union=Rl,t.unionBy=jl,t.unionWith=zl,t.uniq=oo,t.uniqBy=ao,t.uniqWith=uo,t.unset=yu,t.unzip=so,t.unzipWith=lo,t.values=_u,t.valuesIn=bu,t.without=Ml,t.words=Ku,t.wrap=ea,t.xor=Cl,t.xorBy=Il,t.xorWith=Hl,t.zip=Ll,t.zipObject=co,t.zipWith=Al,t.extend=nc,t.extendWith=rc,Qu(t,t),t.add=ss,t.attempt=Tc,t.camelCase=hc,t.capitalize=Su,t.ceil=Mc,t.clamp=Tu,t.clone=ta,t.cloneDeep=ra,t.cloneDeepWith=ia,t.cloneWith=na,t.deburr=ku,t.endsWith=Ou,t.eq=oa,t.escape=Eu,t.escapeRegExp=Pu,t.every=xo,t.find=ko,t.findIndex=Ri,t.findKey=Xa,t.findLast=Oo,t.findLastIndex=ji,t.findLastKey=Fa,t.floor=Cc,t.forEach=Eo,t.forEachRight=Po,t.forIn=Za,t.forInRight=Va,t.forOwn=Ja,t.forOwnRight=Qa,t.get=nu,t.gt=aa,t.gte=ua,t.has=ru,t.hasIn=iu,t.head=Hi,t.identity=Fu,t.includes=Ro,t.indexOf=Li,t.inRange=wu,t.invoke=sc,t.isArguments=sa,t.isArray=ec,t.isArrayLike=la,t.isArrayLikeObject=ca,t.isBoolean=fa,t.isDate=pa,t.isElement=ha,t.isEmpty=da,t.isEqual=va,t.isEqualWith=ga,t.isError=ma,t.isFinite=ya,t.isFunction=_a,t.isInteger=ba,t.isLength=Ta,t.isMatch=Sa,t.isMatchWith=ka,t.isNaN=Oa,t.isNative=Ea,t.isNil=Ra,t.isNull=Pa,t.isNumber=ja,t.isObject=wa,t.isObjectLike=xa,t.isPlainObject=za,t.isRegExp=Ma,t.isSafeInteger=Ca,t.isString=Ia,t.isSymbol=Ha,t.isTypedArray=La,t.isUndefined=Aa,t.join=Di,t.kebabCase=dc,t.last=Wi,t.lastIndexOf=qi,t.lowerCase=vc,t.lowerFirst=gc,t.lt=Da,t.lte=Wa,t.max=ls,t.maxBy=cs,t.mean=fs,t.min=ps,t.minBy=hs,t.noConflict=es,t.noop=ts,t.now=Kl,t.pad=Ru,t.padEnd=ju,t.padStart=zu,t.parseInt=Mu,t.random=xu,t.reduce=Mo,t.reduceRight=Co,t.repeat=Cu,t.replace=Iu,t.result=pu,t.round=Ic,t.runInContext=F,t.sample=Ho,t.size=Do,t.snakeCase=yc,t.some=Wo,t.sortedIndex=Bi,t.sortedIndexBy=$i,t.sortedIndexOf=Xi,t.sortedLastIndex=Fi,t.sortedLastIndexBy=Zi,t.sortedLastIndexOf=Vi,t.startCase=_c,t.startsWith=Lu,t.subtract=ds,t.sum=vs,t.sumBy=gs,t.template=Au,t.times=os,t.toInteger=Ua,t.toLength=Ya,t.toLower=Du,t.toNumber=Ga,t.toSafeInteger=Ka,t.toString=Ba,t.toUpper=Wu,t.trim=qu,t.trimEnd=Uu,t.trimStart=Yu,t.truncate=Gu,t.unescape=Nu,t.uniqueId=us,t.upperCase=bc,t.upperFirst=mc,t.each=Eo,t.eachRight=Po,t.first=Hi,Qu(t,function(){var e={};return En(t,function(n,r){ks.call(t.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),t.VERSION=V,l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),l(["drop","take"],function(e,t){i.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new i(this);n=n===Z?1:$s(Ua(n),0);var o=this.clone();return r?o.__takeCount__=Xs(n,o.__takeCount__):o.__views__.push({size:Xs(n,Se),type:e+(o.__dir__<0?"Right":"")}),o},i.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),l(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==ve||n==me;i.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Jr(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),l(["head","last"],function(e,t){var n="take"+(t?"Right":"");i.prototype[e]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");i.prototype[e]=function(){return this.__filtered__?new i(this):this[n](1)}}),i.prototype.compact=function(){return this.filter(Fu)},i.prototype.find=function(e){return this.filter(e).head()},i.prototype.findLast=function(e){return this.reverse().find(e)},i.prototype.invokeMap=Zo(function(e,t){return"function"==typeof e?new i(this):this.map(function(n){return An(n,e,t)})}),i.prototype.reject=function(e){return e=Jr(e,3),this.filter(function(t){return!e(t)})},i.prototype.slice=function(e,t){e=Ua(e);var n=this;return n.__filtered__&&(e>0||0>t)?new i(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Z&&(t=Ua(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},i.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},i.prototype.toArray=function(){return this.take(Se)},En(i.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),u=t[a?"take"+("last"==n?"Right":""):n],s=a||/^find/.test(n);u&&(t.prototype[n]=function(){var n=this.__wrapped__,l=a?[1]:arguments,c=n instanceof i,f=l[0],p=c||ec(n),h=function(e){var n=u.apply(t,g([e],l));return a&&d?n[0]:n};p&&o&&"function"==typeof f&&1!=f.length&&(c=p=!1);var d=this.__chain__,v=!!this.__actions__.length,m=s&&!d,y=c&&!v;if(!s&&p){n=y?n:new i(this);var _=e.apply(n,l);return _.__actions__.push({func:ho,args:[h],thisArg:Z}),new r(_,d)}return m&&y?e.apply(this,l):(_=this.thru(h),m?a?_.value()[0]:_.value():_)})}),l(["pop","push","shift","sort","splice","unshift"],function(e){var n=ws[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),En(i.prototype,function(e,n){var r=t[n];if(r){var i=r.name+"",o=sl[i]||(sl[i]=[]);o.push({name:n,func:r})}}),sl[qr(Z,Q).name]=[{name:"wrapper",func:Z}],i.prototype.clone=C,i.prototype.reverse=Ye,i.prototype.value=kt,t.prototype.at=Dl,t.prototype.chain=vo,t.prototype.commit=go,t.prototype.flatMap=mo,t.prototype.next=yo,t.prototype.plant=bo,t.prototype.reverse=To,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=wo,Ds&&(t.prototype[Ds]=_o),t}var Z,V="4.0.1",J=1,Q=2,ee=4,te=8,ne=16,re=32,ie=64,oe=128,ae=256,ue=512,se=1,le=2,ce=30,fe="...",pe=150,he=16,de=200,ve=1,ge=2,me=3,ye="Expected a function",_e="__lodash_hash_undefined__",be=1/0,Te=9007199254740991,we=1.7976931348623157e308,xe=NaN,Se=4294967295,ke=Se-1,Oe=Se>>>1,Ee="__lodash_placeholder__",Pe="[object Arguments]",Re="[object Array]",je="[object Boolean]",ze="[object Date]",Me="[object Error]",Ce="[object Function]",Ie="[object GeneratorFunction]",He="[object Map]",Le="[object Number]",Ae="[object Object]",De="[object RegExp]",We="[object Set]",qe="[object String]",Ue="[object Symbol]",Ye="[object WeakMap]",Ge="[object ArrayBuffer]",Ne="[object Float32Array]",Ke="[object Float64Array]",Be="[object Int8Array]",$e="[object Int16Array]",Xe="[object Int32Array]",Fe="[object Uint8Array]",Ze="[object Uint8ClampedArray]",Ve="[object Uint16Array]",Je="[object Uint32Array]",Qe=/\b__p \+= '';/g,et=/\b(__p \+=) '' \+/g,tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nt=/&(?:amp|lt|gt|quot|#39|#96);/g,rt=/[&<>"'`]/g,it=RegExp(nt.source),ot=RegExp(rt.source),at=/<%-([\s\S]+?)%>/g,ut=/<%([\s\S]+?)%>/g,st=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pt=/[\\^$.*+?()[\]{}|]/g,ht=RegExp(pt.source),dt=/^\s+|\s+$/g,vt=/^\s+/,gt=/\s+$/,mt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,bt=/^0x/i,Tt=/^[-+]0x[0-9a-f]+$/i,wt=/^0b[01]+$/i,xt=/^\[object .+?Constructor\]$/,St=/^0o[0-7]+$/i,kt=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Et=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",jt="\\u0300-\\u036f\\ufe20-\\ufe23",zt="\\u20d0-\\u20f0",Mt="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",It="\\xac\\xb1\\xd7\\xf7",Ht="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lt="\\u2018\\u2019\\u201c\\u201d",At=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Wt="\\ufe0e\\ufe0f",qt=It+Ht+Lt+At,Ut="["+Rt+"]",Yt="["+qt+"]",Gt="["+jt+zt+"]",Nt="\\d+",Kt="["+Mt+"]",Bt="["+Ct+"]",$t="[^"+Rt+qt+Nt+Mt+Ct+Dt+"]",Xt="\\ud83c[\\udffb-\\udfff]",Ft="(?:"+Gt+"|"+Xt+")",Zt="[^"+Rt+"]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",Jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Qt="["+Dt+"]",en="\\u200d",tn="(?:"+Bt+"|"+$t+")",nn="(?:"+Qt+"|"+$t+")",rn=Ft+"?",on="["+Wt+"]?",an="(?:"+en+"(?:"+[Zt,Vt,Jt].join("|")+")"+on+rn+")*",un=on+rn+an,sn="(?:"+[Kt,Vt,Jt].join("|")+")"+un,ln="(?:"+[Zt+Gt+"?",Gt,Vt,Jt,Ut].join("|")+")",cn=RegExp(Gt,"g"),fn=RegExp(Xt+"(?="+Xt+")|"+ln+un,"g"),pn=RegExp("["+en+Rt+jt+zt+Wt+"]"),hn=/[a-zA-Z0-9]+/g,dn=RegExp([Qt+"?"+Bt+"+(?="+[Yt,Qt,"$"].join("|")+")",nn+"+(?="+[Yt,Qt+tn,"$"].join("|")+")",Qt+"?"+tn+"+",Qt+"+",Nt,sn].join("|"),"g"),vn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gn=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,yn={};yn[Ne]=yn[Ke]=yn[Be]=yn[$e]=yn[Xe]=yn[Fe]=yn[Ze]=yn[Ve]=yn[Je]=!0,yn[Pe]=yn[Re]=yn[Ge]=yn[je]=yn[ze]=yn[Me]=yn[Ce]=yn[He]=yn[Le]=yn[Ae]=yn[De]=yn[We]=yn[qe]=yn[Ye]=!1;var _n={};_n[Pe]=_n[Re]=_n[Ge]=_n[je]=_n[ze]=_n[Ne]=_n[Ke]=_n[Be]=_n[$e]=_n[Xe]=_n[He]=_n[Le]=_n[Ae]=_n[De]=_n[We]=_n[qe]=_n[Ue]=_n[Fe]=_n[Ze]=_n[Ve]=_n[Je]=!0,_n[Me]=_n[Ce]=_n[Ye]=!1;var bn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},wn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},xn={"function":!0,object:!0},Sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kn=parseFloat,On=parseInt,En=xn[typeof t]&&t&&!t.nodeType?t:null,Pn=xn[typeof e]&&e&&!e.nodeType?e:null,Rn=C(En&&Pn&&"object"==typeof i&&i),jn=C(xn[typeof self]&&self),zn=C(xn[typeof window]&&window),Mn=(Pn&&Pn.exports===En?En:null,C(xn[typeof this]&&this)),Cn=Rn||zn!==(Mn&&Mn.window)&&zn||jn||Mn||Function("return this")(),In=F();(zn||jn||{})._=In,r=function(){return In}.call(t,n,t,e),!(r!==Z&&(e.exports=r))}).call(this)}).call(t,n(9)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(11),f=r(c),p=(n(8),n(13)),h=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,p.arraysEqual)(e.groups,this.props.groups)&&(0,p.arraysEqual)(e.items,this.props.items)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.lineHeight===this.props.lineHeight&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.dimensionItems===this.props.dimensionItems&&e.topOffset===this.props.topOffset)}},{key:"getGroupOrders",value:function(){for(var e=this.props.keys.groupIdKey,t={},n=0;n<this.props.groups.length;n++)t[(0,p._get)(this.props.groups[n],e)]=n;return t}},{key:"getVisibleItems",value:function(e,t,n){var r=this.props.keys,i=r.itemTimeStartKey,o=r.itemTimeEndKey;return this.props.items.filter(function(n){return(0,p._get)(n,i)<=t&&(0,p._get)(n,o)>=e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.canvasTimeStart,r=t.canvasTimeEnd,i=t.dimensionItems,o=this.props.keys,a=o.itemIdKey,u=o.itemGroupKey,s=this.getGroupOrders(),c=this.getVisibleItems(n,r,s);return l["default"].createElement("div",{className:"rct-items"},c.map(function(t){return l["default"].createElement(f["default"],{key:(0,p._get)(t,a),item:t,keys:e.props.keys,order:s[(0,p._get)(t,u)],dimensions:i[(0,p._get)(t,a)].dimensions,selected:e.props.selectedItem===(0,p._get)(t,a),canChangeGroup:void 0!==(0,p._get)(t,"canChangeGroup")?(0,p._get)(t,"canChangeGroup"):e.props.canChangeGroup,canMove:void 0!==(0,p._get)(t,"canMove")?(0,p._get)(t,"canMove"):e.props.canMove,canResize:void 0!==(0,p._get)(t,"canResize")?(0,p._get)(t,"canResize"):e.props.canResize,topOffset:e.props.topOffset,groupHeights:e.props.groupHeights,groupTops:e.props.groupTops,canvasTimeStart:e.props.canvasTimeStart,canvasTimeEnd:e.props.canvasTimeEnd,canvasWidth:e.props.canvasWidth,lineHeight:e.props.lineHeight,dragSnap:e.props.dragSnap,minResizeWidth:e.props.minResizeWidth,onResizing:e.props.itemResizing,onResized:e.props.itemResized,moveResizeValidator:e.props.moveResizeValidator,onDrag:e.props.itemDrag,onDrop:e.props.itemDrop,onSelect:e.props.itemSelect})}))}}]),t}(s.Component);t["default"]=h,h.propTypes={groups:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]).isRequired,items:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]).isRequired,canvasTimeStart:l["default"].PropTypes.number.isRequired,canvasTimeEnd:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,dragSnap:l["default"].PropTypes.number,minResizeWidth:l["default"].PropTypes.number,selectedItem:l["default"].PropTypes.string,canChangeGroup:l["default"].PropTypes.bool.isRequired,canMove:l["default"].PropTypes.bool.isRequired,canResize:l["default"].PropTypes.bool.isRequired,keys:l["default"].PropTypes.object.isRequired,moveResizeValidator:l["default"].PropTypes.func,itemSelect:l["default"].PropTypes.func,itemDrag:l["default"].PropTypes.func,itemDrop:l["default"].PropTypes.func,itemResizing:l["default"].PropTypes.func,itemResized:l["default"].PropTypes.func},h.defaultProps={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(12),f=r(c),p=n(8),h=n(13),d=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.onMouseDown=function(e){n.state.interactMounted||(e.preventDefault(),n.startedClicking=!0)},n.onMouseUp=function(e){!n.state.interactMounted&&n.startedClicking&&(n.startedClicking=!1,n.actualClick(e,"click"))},n.onTouchStart=function(e){n.state.interactMounted||(e.preventDefault(),n.startedTouching=!0)},n.onTouchEnd=function(e){!n.state.interactMounted&&n.startedTouching&&(n.startedTouching=!1,n.actualClick(e,"touch"))},n.cacheDataFromProps(e),n.state={interactMounted:!1,dragging:null,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:null,resizeStart:null,resizeTime:null},n}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=!(t.dragging!==this.state.dragging&&t.dragTime!==this.state.dragTime&&t.dragGroupDelta!==this.state.dragGroupDelta&&t.resizing!==this.state.resizing&&t.resizeTime!==this.state.resizeTime&&e.keys===this.props.keys&&e.selected===this.props.selected&&e.item===this.props.item&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.order===this.props.order&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.selected===this.props.selected&&e.canChangeGroup===this.props.canChangeGroup&&e.topOffset===this.props.topOffset&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.dimensions===this.props.dimensions);return n}},{key:"cacheDataFromProps",value:function(e){this.itemId=(0,h._get)(e.item,e.keys.itemIdKey),this.itemTitle=(0,h._get)(e.item,e.keys.itemTitleKey),this.itemTimeStart=(0,h._get)(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=(0,h._get)(e.item,e.keys.itemTimeEndKey)}},{key:"coordinateToTimeRatio",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return(e.canvasTimeEnd-e.canvasTimeStart)/e.canvasWidth}},{key:"dragTimeSnap",value:function(e){return this.props.dragSnap?Math.round(e/this.props.dragSnap)*this.props.dragSnap:e}},{key:"dragTime",value:function(e){var t=this.itemTimeStart;if(this.state.dragging){var n=e.pageX-this.state.dragStart.x,r=n*this.coordinateToTimeRatio();return this.dragTimeSnap(t+r)}return t}},{key:"dragGroupDelta",value:function(e){var t=this.props,n=t.groupTops,r=t.order,i=t.topOffset;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;var o=(e.pageY-this.state.dragStart.y-i,0);return(0,p.forEach)(n,function(t,n){return e.pageY-i>t?void(o=parseInt(n,10)-r):!1}),this.props.order+o<0?0-this.props.order:o}return 0}},{key:"resizeTimeDelta",value:function(e){var t=this.itemTimeEnd-this.itemTimeStart,n=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.coordinateToTimeRatio());return t+n<(this.props.dragSnap||1e3)?(this.props.dragSnap||1e3)-t:n}},{key:"componentDidMount",value:function(){}},{key:"mountInteract",value:function(){var e=this;(0,f["default"])(this.refs.item).resizable({edges:{left:!1,right:this.refs.dragRight,top:!1,bottom:!1},enabled:this.props.selected&&this.canResize()}).draggable({enabled:this.props.selected}).on("dragstart",function(t){return e.props.selected?void e.setState({dragging:!0,dragStart:{x:t.pageX,y:t.pageY},preDragPosition:{x:t.target.offsetLeft,y:t.target.offsetTop},dragTime:e.itemTimeStart,dragGroupDelta:0}):!1}).on("dragmove",function(t){if(e.state.dragging){var n=e.dragTime(t),r=e.dragGroupDelta(t);e.props.moveResizeValidator&&(n=e.props.moveResizeValidator("move",e.props.item,n)),e.props.onDrag&&e.props.onDrag(e.itemId,n,e.props.order+r),e.setState({dragTime:n,dragGroupDelta:r})}}).on("dragend",function(t){if(e.state.dragging){if(e.props.onDrop){var n=e.dragTime(t);e.props.moveResizeValidator&&(n=e.props.moveResizeValidator("move",e.props.item,n)),e.props.onDrop(e.itemId,n,e.props.order+e.dragGroupDelta(t))}e.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",function(t){return console.log("resizestart"),e.props.selected?void e.setState({resizing:!0,resizeStart:t.pageX,newResizeEnd:0}):!1}).on("resizemove",function(t){if(e.state.resizing){var n=e.dragTimeSnap(e.itemTimeEnd+e.resizeTimeDelta(t));e.props.moveResizeValidator&&(n=e.props.moveResizeValidator("resize",e.props.item,n)),e.props.onResizing&&e.props.onResizing(e.itemId,n),e.setState({newResizeEnd:n})}}).on("resizeend",function(t){if(e.state.resizing){var n=e.dragTimeSnap(e.itemTimeEnd+e.resizeTimeDelta(t));e.props.moveResizeValidator&&(n=e.props.moveResizeValidator("resize",e.props.item,n)),e.props.onResized&&0!==e.resizeTimeDelta(t)&&e.props.onResized(e.itemId,n),e.setState({resizing:null,resizeStart:null,newResizeEnd:null})}}).on("tap",function(t){e.actualClick(t,"mouse"===t.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}},{key:"canResize",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];if(!e.canResize)return!1;var t=parseInt(this.dimensions(e).width,10);return t>=e.minResizeWidth}},{key:"canMove",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return!!e.canMove}},{key:"componentWillReceiveProps",value:function(e){this.cacheDataFromProps(e);var t=this.state.interactMounted,n=this.props.selected&&this.canMove(this.props),r=this.props.selected&&this.canResize(this.props),i=e.selected&&this.canMove(e),o=e.selected&&this.canResize(e);e.selected&&!t&&(this.mountInteract(),t=!0),t&&r!==o&&(0,f["default"])(this.refs.item).resizable({enabled:o}),t&&n!==i&&(0,f["default"])(this.refs.item).draggable({enabled:i})}},{key:"actualClick",value:function(e,t){this.props.onSelect&&this.props.onSelect(this.itemId,t)}},{key:"dimensions",value:function n(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=this.state.dragging?this.state.dragTime:this.itemTimeStart,r=Math.max((this.state.resizing?this.state.newResizeEnd:this.itemTimeEnd)-this.itemTimeStart,e.dragSnap),i=(e.order+(this.state.dragging?this.state.dragGroupDelta:0)+.15+2)*e.lineHeight,o=.65*e.lineHeight,a=1/this.coordinateToTimeRatio(e),n={left:(t-e.canvasTimeStart)*a+"px",top:i+"px",width:Math.max(r*a,3)+"px",height:o+"px"};return n}},{key:"render",value:function(){var e=this.props.dimensions,t="rct-item"+(this.props.selected?" selected":"")+(this.canMove(this.props)?" can-move":"")+(this.canResize(this.props)?" can-resize":"")+(this.props.item.className?" "+this.props.item.className:""),n={left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px",lineHeight:e.height+"px"};return l["default"].createElement("div",{key:this.itemId,ref:"item",className:t,title:this.itemTitle,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,style:n},l["default"].createElement("div",{className:"rct-item-overflow"},l["default"].createElement("div",{className:"rct-item-content"},this.itemTitle)),l["default"].createElement("div",{ref:"dragRight",className:"rct-drag-right"}))}}]),t}(s.Component);t["default"]=d,d.propTypes={},d.defaultProps={selected:!1}},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return"function"==typeof e.get?e.get(t):e[t]}function o(e){return"function"==typeof e.count?e.count():e.length}function a(e,t){return o(e)===o(t)&&e.every(function(e,n){return e===i(t,n)})}function u(e,t,n,r){for(var i=(0,b["default"])(e).startOf(n);i.valueOf()<t;){var o=(0,b["default"])(i).add(1,n+"s");r(i,o),i=o}}function s(e,t){var n={second:1e3,minute:60,hour:60,day:24,month:30,year:12},r="year",i=e,o=17;return Object.keys(n).some(function(e){return i/=n[e],t/o>i?(r=e,!0):void 0}),r}function l(e){var t={second:"minute",minute:"hour",hour:"day",day:"month",month:"year"};return t[e]||""}function c(e){for(var t=0,n=0,r=!0;e;)t+=e.offsetLeft-(r?0:e.scrollLeft)+e.clientLeft,n+=e.offsetTop-(r?0:e.scrollTop)+e.clientTop,e=e.offsetParent,r=!1;return{x:t,y:n}}function f(e,t,n){return(t-e)/n}function p(e,t,n,r,o,a,u,s,l,c,p,h,d){var v=i(e,n.itemIdKey),g=(i(e,n.itemTitleKey),i(e,n.itemTimeStartKey)),m=i(e,n.itemTimeEndKey),y=v==l,_=v==p,b=y?c:g,T=Math.max((_?h:m)-g,u),w=.65*s,x=1/f(r,o,a),S={left:(b-r)*x,top:null,width:Math.max(T*x,3),height:w,order:y?d:t,stack:!0,lineHeight:s};return S}function h(e,t){for(var n=t.groupIdKey,r={},o=0;o<e.length;o++)r[i(e[o],n)]=o;return r}function d(e,t,n,r){var o=r.itemTimeStartKey,a=r.itemTimeEndKey;return e.filter(function(e){return i(e,o)<=n&&i(e,a)>=t})}function v(e,t,n){var r=(n-e.height)/2;return e.left+w<t.left+t.width&&e.left+e.width-w>t.left&&e.top-r+w<t.top+t.height&&e.top+e.height+r-w>t.top}function g(e,t,n,r,i){var o,a,u=r,s={},l={},c=(0,T.groupBy)(e,function(e){return e.dimensions.order});if(i)for(o=0,a=e.length;a>o;o++)e[o].dimensions.top=null;return(0,T.forEach)(t,function(e,t){var r=c[e]||[];l[e]=u;var i=0;for(o=0,a=r.length;a>o;o++){var f=r[o],p=(f.dimensions.lineHeight-f.dimensions.height)/2;if(f.dimensions.stack&&null===f.dimensions.top){f.dimensions.top=u+p,i=Math.max(i,f.dimensions.lineHeight);do{for(var h=null,d=0,g=r.length;g>d;d++){var m=r[d];if(null!==m.top&&m!==f&&m.dimensions.stack&&v(f.dimensions,m.dimensions,f.dimensions.lineHeight)){h=m;break}}null!=h&&(f.dimensions.top=h.dimensions.top+h.dimensions.lineHeight+p,i=Math.max(i,f.dimensions.top+f.dimensions.height+p-u))}while(h)}}s[e]=Math.max(i,n),u+=Math.max(i,n)}),{height:u,groupHeights:s,groupTops:l}}function m(e,t,n,r,i){var o,a,u=r,s={},l={},c=(0,T.groupBy)(e,function(e){return e.dimensions.order});if(i)for(o=0,a=e.length;a>o;o++)e[o].dimensions.top=null;return(0,T.forEach)(t,function(e,t){var r=c[e]||[];l[e]=u;var i=0;for(o=0,a=r.length;a>o;o++){var f=r[o],p=(f.dimensions.lineHeight-f.dimensions.height)/2;null===f.dimensions.top&&(f.dimensions.top=u+p,i=Math.max(i,f.dimensions.lineHeight))}s[e]=Math.max(i,n),u+=Math.max(i,n)}),{height:u,groupHeights:s,groupTops:l}}function y(e,t,n,r){return r?n&&t!==n?"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(r+" "+(e-1)+"px,")+(r+" "+e+"px,")+(n+" "+e+"px,")+(n+" "+(2*e-1)+"px,")+(r+" "+(2*e-1)+"px,")+(r+" "+2*e+"px")+")":"repeating-linear-gradient(to bottom, "+(t+",")+(t+" "+(e-1)+"px,")+(r+" "+(e-1)+"px,")+(r+" "+e+"px")+")":n&&t!==n?"repeating-linear-gradient(to bottom,"+t+","+t+" "+e+"px,"+n+" "+e+"px,"+n+" "+2*e+"px)":t}Object.defineProperty(t,"__esModule",{value:!0}),t._get=i,t._length=o,t.arraysEqual=a,t.iterateTimes=u,t.getMinUnit=s,t.getNextUnit=l,t.getParentPosition=c,t.coordinateToTimeRatio=f,t.dimensions=p,t.getGroupOrders=h,t.getVisibleItems=d,t.collision=v,t.stack=g,t.nostack=m,t.createGradientPattern=y;var _=n(3),b=r(_),T=n(8),w=.001},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(15),f=r(c),p=n(3),h=(r(p),function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.shouldComponentUpdate=f["default"],n}return a(t,e),u(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"rct-infolabel"},this.props.label)}}]),t}(s.Component));t["default"]=h,h.propTypes={label:l["default"].PropTypes.string.isRequired},h.defaultProps={label:""}},function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return!(0,a["default"])(this.props,e)||!(0,a["default"])(this.state,t)}t.__esModule=!0,t["default"]=i;var o=n(16),a=r(o);e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++)if(!i(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(13),f=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={scrollTop:0,componentTop:0},n}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return"absolute"===e.fixedHeader&&window&&window.document&&this.state.scrollTop!==t.scrollTop?!0:!((0,c.arraysEqual)(e.groups,this.props.groups)&&e.keys===this.props.keys&&e.width===this.props.width&&e.lineHeight===this.props.lineHeight&&e.fixedHeader===this.props.fixedHeader&&e.zIndex===this.props.zIndex&&e.groupHeights===this.props.groupHeights&&e.height===this.props.height)}},{key:"scroll",value:function n(e){if("absolute"===this.props.fixedHeader&&window&&window.document){var n=window.document.body.scrollTop;this.setState({scrollTop:n})}}},{key:"setComponentTop",value:function(){var e=this.refs.sidebar.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"render",value:function(){var e=this.props,t=e.fixedHeader,n=e.width,r=e.lineHeight,i=e.zIndex,o=(e.groups,e.groupHeights),a=e.height,u=e.headerHeight,s=this.props.keys,f=s.groupIdKey,p=s.groupTitleKey,h=this.state.scrollTop,d={width:n+"px",height:a+"px"},v={height:u+"px",lineHeight:r+"px",width:n+"px"},g={width:n+"px"};if("fixed"===t)v.position="fixed",v.zIndex=i,g.paddingTop=v.height;else if("absolute"===t){var m=this.state.componentTop;h>=m&&(v.position="absolute",v.top=h-m+"px",v.left="0",g.paddingTop=v.height)}var y=l["default"].createElement("div",{ref:"sidebarHeader",className:"rct-sidebar-header",style:v},this.props.children),_=[],b=0;return this.props.groups.forEach(function(e,t){var n={height:o[t]-1+"px",lineHeight:o[t]-1+"px"};_.push(l["default"].createElement("div",{key:(0,c._get)(e,f),className:"rct-sidebar-row"+(b%2===0?" rct-sidebar-row-even":" rct-sidebar-row-odd"),style:n},(0,c._get)(e,p))),b+=1}),l["default"].createElement("div",{ref:"sidebar",className:"rct-sidebar",style:d},y,l["default"].createElement("div",{style:g},_))}}]),t}(s.Component);t["default"]=f,f.propTypes={groups:l["default"].PropTypes.oneOfType([l["default"].PropTypes.array,l["default"].PropTypes.object]).isRequired,width:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,zIndex:l["default"].PropTypes.number,fixedHeader:l["default"].PropTypes.oneOf(["fixed","absolute","none"]),keys:l["default"].PropTypes.object.isRequired,children:l["default"].PropTypes.node},f.defaultProps={fixedHeader:"none",zIndex:12,children:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(3),f=r(c),p=n(13),h=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={scrollTop:0,componentTop:0,touchTarget:null,touchActive:!1},n.periodClick=n.periodClick.bind(n),n.touchStart=n.touchStart.bind(n),n.touchEnd=n.touchEnd.bind(n),n}return a(t,e),u(t,[{key:"scroll",value:function n(e){if("absolute"===this.props.fixedHeader&&window&&window.document){var n=window.document.body.scrollTop;this.setState({scrollTop:n})}}},{key:"setComponentTop",value:function(){var e=this.refs.header.getBoundingClientRect();this.setState({componentTop:e.top})}},{key:"componentDidMount",value:function(){var e=this;this.setComponentTop(),this.scroll(),this.scrollEventListener={handleEvent:function(t){e.scroll()}},window.addEventListener("scroll",this.scrollEventListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollEventListener)}},{key:"componentWillReceiveProps",value:function(){this.setComponentTop()}},{key:"headerLabel",value:function(e,t,n){return"year"===t?e.format(46>n?"YY":"YYYY"):"month"===t?e.format(65>n?"MM/YY":75>n?"MM/YYYY":120>n?"MMM YYYY":"MMMM YYYY"):"day"===t?e.format(150>n?"L":"dddd, LL"):"hour"===t?e.format(50>n?"HH":130>n?"HH:00":150>n?"L, HH:00":"dddd, LL, HH:00"):e.format("LLL")}},{key:"subHeaderLabel",value:function(e,t,n){return"year"===t?e.format(46>n?"YY":"YYYY"):"month"===t?e.format(37>n?"MM":85>n?"MMM":"MMMM"):"day"===t?e.format(47>n?"D":80>n?"dd D":120>n?"ddd, Do":"dddd, Do"):"hour"===t?e.format(50>n?"HH":"HH:00"):e.get("day"===t?"date":t)}},{key:"periodClick",value:function(e){var t=e.target.dataset,n=t.time,r=t.unit;this.props.showPeriod((0,f["default"])(n-0),r)}},{key:"touchStart",value:function(e){1===e.touches.length&&this.setState({touchTarget:e.target||e.touchTarget,touchActive:!0})}},{key:"touchEnd",value:function(e){if(!this.state.touchActive)return this.resetTouchState();var t=e.changedTouches[0];if(t){var n=document.elementFromPoint(t.pageX,t.pageY);if(n!==this.state.touchTarget)return this.resetTouchState()}this.resetTouchState(),this.periodClick(e)}},{key:"resetTouchState",value:function(){this.setState({touchTarget:null,touchActive:!1})}},{key:"render",value:function(){var e=this,t=[],n=this.props,r=n.canvasTimeStart,i=n.canvasTimeEnd,o=n.canvasWidth,a=n.lineHeight,u=n.visibleTimeStart,s=n.visibleTimeEnd,c=n.minUnit,f=n.fixedHeader,h=n.headerLabelGroupHeight,d=n.headerLabelHeight,v=this.state.scrollTop,g=o/(i-r),m="year"!==c;m&&!function(){var n=(0,p.getNextUnit)(c);(0,p.iterateTimes)(u,s,n,function(i,o){var a=Math.max(u,i.valueOf()),c=Math.min(s,o.valueOf()),p=Math.round((a.valueOf()-r)*g,-2),d=Math.round((c.valueOf()-r)*g,-2),v=d-p,m="fixed"===f?Math.round((r-u)*g)-1:0;t.push(l["default"].createElement("div",{key:"top-label-"+i.valueOf(),href:"#",className:"rct-label-group","data-time":i,"data-unit":n,style:{left:p+m+"px",width:v+"px",height:h+"px",lineHeight:h+"px",cursor:"pointer"}},e.headerLabel(i,n,v)))})}(),(0,p.iterateTimes)(r,i,c,function(n,i){var o=Math.round((n.valueOf()-r)*g,-2),a=n.get("day"===c?"date":c),s=a===("day"===c?1:0),p=Math.round((i.valueOf()-n.valueOf())*g,-2),v=s?2:1,y="fixed"===f?Math.round((r-u)*g)-v+1:0;t.push(l["default"].createElement("div",{key:"label-"+n.valueOf(),href:"#",className:"rct-label "+(m?"":"rct-label-only")+" "+(s?"rct-first-of-type":"")+" ","data-time":n,"data-unit":c,style:{top:("year"===c?0:h)+"px",left:o+y+"px",width:p+"px",height:("year"===c?h+d:d)+"px",lineHeight:("year"===c?h+d:d)+"px",fontSize:p>30?"14":p>20?"12":"10",cursor:"pointer"}},e.subHeaderLabel(n,c,p)))});var y=this.props.zIndex,_={height:h+d+"px",lineHeight:a+"px"};if("fixed"===f)_.position="fixed",_.width="100%",_.zIndex=y;else if("absolute"===f){var b=this.state.componentTop;v>=b&&(_.position="absolute",_.top=v-b+"px",_.width=o+"px",_.left="0")}return l["default"].createElement("div",{ref:"header",key:"header",className:"rct-header",onTouchStart:this.touchStart,onTouchEnd:this.touchEnd,onClick:this.periodClick,style:_},t)}}]),t}(s.Component);t["default"]=h,h.propTypes={showPeriod:l["default"].PropTypes.func.isRequired,canvasTimeStart:l["default"].PropTypes.number.isRequired,canvasTimeEnd:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,visibleTimeStart:l["default"].PropTypes.number.isRequired,visibleTimeEnd:l["default"].PropTypes.number.isRequired,minUnit:l["default"].PropTypes.string.isRequired,width:l["default"].PropTypes.number.isRequired,fixedHeader:l["default"].PropTypes.oneOf(["fixed","absolute","none"]),zIndex:l["default"].PropTypes.number},h.defaultProps={fixedHeader:"none",zIndex:11}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=n(13),f=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.fixedHeader===this.props.fixedHeader&&e.height===this.props.height&&e.headerHeight===this.props.headerHeight)}},{key:"render",value:function(){var e=this,t=this.props,n=t.canvasTimeStart,r=t.canvasTimeEnd,i=t.canvasWidth,o=t.minUnit,a=(t.lineCount,t.lineHeight),u=t.height,s=t.headerHeight,f=i/(r-n),p=[];return(0,c.iterateTimes)(n,r,o,function(t,r){var i=Math.round((t.valueOf()-n)*f,-2),c=t.get("day"===o?"date":o),h=c===("day"===o?1:0),d=h?2:1,v=Math.ceil((r.valueOf()-t.valueOf())*f)-d,g="fixed"===e.props.fixedHeader&&h?-1:0,m="rct-vl"+(h?" rct-vl-first":"")+("day"===o||"hour"===o||"minute"===o?" rct-day-"+t.day():"");p.push(l["default"].createElement("div",{key:"line-"+t.valueOf(),className:m,style:{top:2*a+"px",left:i+g+"px",width:v+"px",height:u-s+"px"}}))}),l["default"].createElement("div",{className:"rct-vertical-lines"},p)}}]),t}(s.Component);t["default"]=f,f.propTypes={canvasTimeStart:l["default"].PropTypes.number.isRequired,canvasTimeEnd:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,lineCount:l["default"].PropTypes.number.isRequired,minUnit:l["default"].PropTypes.string.isRequired,fixedHeader:l["default"].PropTypes.string.isRequired},f.defaultProps={fixedHeader:"none",dayBackground:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e.canvasWidth===this.props.canvasWidth&&e.lineHeight===this.props.lineHeight&&e.lineCount===this.props.lineCount&&e.groupHeights===this.props.groupHeights)}},{key:"render",value:function(){for(var e=this.props,t=e.lineCount,n=(e.lineHeight,e.canvasWidth),r=(e.groups,e.groupHeights),i=e.headerHeight,o=[],a=i,u=0;t>u;u++)o.push(l["default"].createElement("div",{key:"horizontal-line-"+u,className:u%2===0?"rct-hl-even":"rct-hl-odd",style:{top:a+"px",left:"0px",width:n+"px",height:r[u]-1+"px"}})),a+=r[u];return l["default"].createElement("div",{className:"rct-horizontal-lines"},o)}}]),t}(s.Component);t["default"]=c,c.propTypes={canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,lineCount:l["default"].PropTypes.number.isRequired},c.defaultProps={borderWidth:1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=r(s),c=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),u(t,[{key:"render",value:function(){var e=(new Date).getTime();if(e>this.props.canvasTimeStart&&e<this.props.canvasTimeEnd){var t=this.props.canvasWidth/(this.props.canvasTimeEnd-this.props.canvasTimeStart),n=Math.round((e-this.props.canvasTimeStart)*t),r=this.props.headerHeight,i=this.props.height-this.props.headerHeight,o={top:r+"px",left:n+"px",height:i+"px"};return l["default"].createElement("div",{className:"rct-today",style:o})}return l["default"].createElement("div",null)}}]),t}(s.Component);t["default"]=c,c.propTypes={canvasTimeStart:l["default"].PropTypes.number.isRequired,canvasTimeEnd:l["default"].PropTypes.number.isRequired,canvasWidth:l["default"].PropTypes.number.isRequired,lineHeight:l["default"].PropTypes.number.isRequired,lineCount:l["default"].PropTypes.number.isRequired},c.defaultProps={}}])});
//# sourceMappingURL=react-calendar-timeline.min.js.map